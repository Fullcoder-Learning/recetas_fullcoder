<!DOCTYPE html>
<html  lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

      <title>Frontend React Task Learn</title>
    
          <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="../_static/theme.css " type="text/css" />
      
      <!-- sphinx script_files -->
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="../_static/theme-vendors.js"></script> -->
      <script src="../_static/theme.js" defer></script>
    
      <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <link rel="index" title="Índice" href="../genindex.html" />
  <link rel="search" title="Búsqueda" href="../search.html" />
  <link rel="prev" title="API Task Learn" href="../backend/api-node.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="../index.html" class="home-link">
    
      <img class="logo" src="../_static/fullcoderlogo.png" alt="logo"/>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="../index.html#recetas-fullcoder-agile-learning-practico"
         class="nav-link ">
         Proyectos Backend
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#recetas-fullcoder-agile-learning-practico"
         class="nav-link  router-link-active">
         Proyectos Frontend
      </a>
    </div>
  



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="../index.html#recetas-fullcoder-agile-learning-practico"
         class="nav-link ">
         Proyectos Backend
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#recetas-fullcoder-agile-learning-practico"
         class="nav-link  router-link-active">
         Proyectos Frontend
      </a>
    </div>
  



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Búsqueda rápida</span>
    <div class="searchformwrapper">
      <form class="search" action="../search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Búsqueda" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#recetas-fullcoder-agile-learning-practico">Proyectos Backend</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="../backend/api-node.html" class="reference internal ">API Task Learn</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#recetas-fullcoder-agile-learning-practico">Proyectos Frontend</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 current">
            
              <a href="#" class="reference internal current">Frontend React Task Learn</a>
            

            
              <ul>
                
                  <li class="toctree-l2"><a href="#fase-1-diseno-de-la-aplicacion" class="reference internal">Fase 1: Diseño de la aplicación</a></li>
                
                  <li class="toctree-l2"><a href="#fase-2-conectar-con-api-rest" class="reference internal">Fase 2: Conectar con API Rest</a></li>
                
              </ul>
            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
    <li>Frontend React Task Learn</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="../backend/api-node.html"
       title="capítulo anterior">← API Task Learn</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="frontend-react-task-learn">
<h1><a class="toc-backref" href="#id2">Frontend React Task Learn</a><a class="headerlink" href="#frontend-react-task-learn" title="Enlazar permanentemente con este título">¶</a></h1>
<a class="reference internal image-reference" href="../_images/logo-react.png"><img alt="Logo Angular" class="align-center" src="../_images/logo-react.png" style="width: 420.0px; height: 365.04999999999995px;" /></a>
<p>Frontend aplicación listado de tareas desarrollada con React.</p>
<ul class="simple">
<li><p>Repositorio proyecto completo: <a class="reference external" href="https://github.com/Fullcoder-Learning/-task-learning-frontend">https://github.com/Fullcoder-Learning/-task-learning-frontend</a></p></li>
</ul>
<div class="contents topic" id="indice">
<p class="topic-title">Índice</p>
<ul class="simple">
<li><p><a class="reference internal" href="#frontend-react-task-learn" id="id2">Frontend React Task Learn</a></p>
<ul>
<li><p><a class="reference internal" href="#fase-1-diseno-de-la-aplicacion" id="id3">Fase 1: Diseño de la aplicación</a></p>
<ul>
<li><p><a class="reference internal" href="#paso-1-opcional-instalar-dependencias" id="id4">Paso 1 (opcional): Instalar Dependencias</a></p></li>
<li><p><a class="reference internal" href="#paso-2-preparar-proyecto" id="id5">Paso 2: Preparar proyecto</a></p></li>
<li><p><a class="reference internal" href="#paso-3-crear-pagina-de-tareas" id="id6">Paso 3: Crear página de tareas</a></p></li>
<li><p><a class="reference internal" href="#paso-4-crear-componentes-navbar" id="id7">Paso 4: Crear componentes navbar</a></p></li>
<li><p><a class="reference internal" href="#paso-5-crear-tabla-para-listar-tareas" id="id8">Paso 5: Crear tabla para listar tareas</a></p></li>
<li><p><a class="reference internal" href="#paso-6-crear-modals" id="id9">Paso 6: Crear modals</a></p></li>
<li><p><a class="reference internal" href="#paso-7-formulario-para-crear-tareas" id="id10">Paso 7: Formulario para crear tareas</a></p></li>
<li><p><a class="reference internal" href="#paso-8-preparar-rutas" id="id11">Paso 8: Preparar rutas</a></p></li>
<li><p><a class="reference internal" href="#paso-9-crear-pagina-de-usuarios" id="id12">Paso 9: Crear pagina de usuarios</a></p></li>
<li><p><a class="reference internal" href="#paso-10-anadir-enlaces-al-navbar" id="id13">Paso 10: Añadir enlaces al navbar</a></p></li>
<li><p><a class="reference internal" href="#paso-11-crear-componente-para-editar-usuario" id="id14">Paso 11: Crear componente para editar usuario</a></p></li>
<li><p><a class="reference internal" href="#paso-12-crear-pantalla-de-login" id="id15">Paso 12: Crear pantalla de Login</a></p></li>
<li><p><a class="reference internal" href="#paso-13-crear-modal-para-registrar-usuarios" id="id16">Paso 13: Crear modal para registrar usuarios</a></p></li>
<li><p><a class="reference internal" href="#paso-14-crear-alerta-cuando-se-registra-usuario" id="id17">Paso 14: Crear alerta cuando se registra usuario</a></p></li>
<li><p><a class="reference internal" href="#paso-15-crear-modal-para-recuperar-contrasena" id="id18">Paso 15: Crear modal para recuperar contraseña</a></p></li>
<li><p><a class="reference internal" href="#paso-16-crear-pagina-para-restablecer-contrasena" id="id19">Paso 16: Crear página para restablecer contraseña</a></p></li>
<li><p><a class="reference internal" href="#paso-17-subir-cambios-a-github" id="id20">Paso 17: Subir cambios a GitHub</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#fase-2-conectar-con-api-rest" id="id21">Fase 2: Conectar con API Rest</a></p>
<ul>
<li><p><a class="reference internal" href="#paso-1-descargar-api-task-learn" id="id22">Paso 1: Descargar API Task Learn</a></p></li>
<li><p><a class="reference internal" href="#id1" id="id23">Paso 2: Preparar proyecto</a></p></li>
<li><p><a class="reference internal" href="#paso-3-crear-servicio-para-registrarse" id="id24">Paso 3: Crear servicio para registrarse</a></p></li>
<li><p><a class="reference internal" href="#paso-4-crear-servicio-para-iniciar-sesion" id="id25">Paso 4: Crear servicio para iniciar sesión</a></p></li>
<li><p><a class="reference internal" href="#paso-5-securizar-rutas" id="id26">Paso 5: Securizar rutas</a></p></li>
<li><p><a class="reference internal" href="#paso-6-enviar-email-para-restablecer-contrasena" id="id27">paso 6: Enviar email para restablecer contraseña</a></p></li>
<li><p><a class="reference internal" href="#paso-7-reestablecer-contrasena" id="id28">Paso 7: Reestablecer contraseña</a></p></li>
<li><p><a class="reference internal" href="#paso-8-crear-tareas" id="id29">Paso 8: Crear tareas</a></p></li>
<li><p><a class="reference internal" href="#paso-9-recuperar-tareas" id="id30">Paso 9: Recuperar Tareas</a></p></li>
<li><p><a class="reference internal" href="#paso-10-finalizar-tarea" id="id31">Paso 10: Finalizar tarea</a></p></li>
<li><p><a class="reference internal" href="#paso-11-eliminar-tareas" id="id32">Paso 11: Eliminar Tareas</a></p></li>
<li><p><a class="reference internal" href="#paso-12-cargar-datos-de-usuario" id="id33">Paso 12: Cargar datos de usuario</a></p></li>
<li><p><a class="reference internal" href="#paso-13-editar-datos-de-usuario" id="id34">Paso 13: Editar datos de usuario</a></p></li>
<li><p><a class="reference internal" href="#paso-14-subir-cambios-a-github" id="id35">Paso 14: Subir cambios a GitHub</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<section id="fase-1-diseno-de-la-aplicacion">
<h2><a class="toc-backref" href="#id3">Fase 1: Diseño de la aplicación</a><a class="headerlink" href="#fase-1-diseno-de-la-aplicacion" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En esta fase se van a crear todas las pantallas de la aplicación.</p>
<section id="paso-1-opcional-instalar-dependencias">
<h3><a class="toc-backref" href="#id4">Paso 1 (opcional): Instalar Dependencias</a><a class="headerlink" href="#paso-1-opcional-instalar-dependencias" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Instalar NodeJS desde su sitio oficial: <a class="reference external" href="https://nodejs.org/es/">https://nodejs.org/es/</a></p></li>
<li><p>Instalar MongoDB desde su sitio oficial:  <a class="reference external" href="https://www.mongodb.com/try/download/community">https://www.mongodb.com/try/download/community</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>este paso es opcional si ya tienes instalado tanto mongoDB como NodeJS.</p>
</div>
</section>
<section id="paso-2-preparar-proyecto">
<h3><a class="toc-backref" href="#id5">Paso 2: Preparar proyecto</a><a class="headerlink" href="#paso-2-preparar-proyecto" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Instalar React con npx desde la carpeta del proyecto: <code class="docutils literal notranslate"><span class="pre">npx</span> <span class="pre">create-react-app</span> <span class="pre">task-learn-frontend</span></code></p></li>
<li><p>Regresar a la raiz del proyecto <strong>task-learn-frontend</strong>.</p></li>
<li><p>Instalar bootstrap 5: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">bootstrap</span> <span class="pre">--save</span></code></p></li>
<li><p>Instalar react router: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">react-router-dom</span> <span class="pre">--save</span></code></p></li>
<li><p>Limpiar el archivo <strong>App.css</strong> y añadir la siguiente línea para cargar Bootstrap:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">@</span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;bootstrap/dist/css/bootstrap.css&#39;</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Hacemos lo mismo con el archivo javascript en <strong>App.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="s1">&#39;./App.css&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">js</span> <span class="n">de</span> <span class="n">bootstrap</span><span class="p">:</span>
<span class="kn">import</span> <span class="s1">&#39;bootstrap/dist/js/bootstrap&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">App</span><span class="p">()</span> <span class="p">{</span>
<span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">header</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App-header&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="p">{</span><span class="n">logo</span><span class="p">}</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App-logo&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;logo&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
        <span class="n">Edit</span> <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">src</span><span class="o">/</span><span class="n">App</span><span class="o">.</span><span class="n">js</span><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;</span> <span class="ow">and</span> <span class="n">save</span> <span class="n">to</span> <span class="n">reload</span><span class="o">.</span>
        <span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App-link&quot;</span>
        <span class="n">href</span><span class="o">=</span><span class="s2">&quot;https://reactjs.org&quot;</span>
        <span class="n">target</span><span class="o">=</span><span class="s2">&quot;_blank&quot;</span>
        <span class="n">rel</span><span class="o">=</span><span class="s2">&quot;noopener noreferrer&quot;</span>
        <span class="o">&gt;</span>
        <span class="n">Learn</span> <span class="n">React</span>
        <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">header</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">);</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">App</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Crear las siguientes carpetas dentro de <strong>src</strong>: <strong>pages</strong> y <strong>common</strong>.</p></li>
<li><p>Inicializar repositorio: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span></code></p></li>
<li><p>Añadir repositorio remoto: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">https://github.com/Fullcoder-Learning/task-learning-frontend.git</span></code></p></li>
<li><p>Añadir cambios: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code></p></li>
<li><p>Hacer primer commit: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-am</span> <span class="pre">&quot;first</span> <span class="pre">commit&quot;</span></code></p></li>
<li><p>Subir cambios a repositorio remoto: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">master</span></code></p></li>
<li><p>Crear rama desarrollo: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">developer</span></code></p></li>
<li><p>Subir rama desarrollo: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">developer</span></code></p></li>
<li><p>Crear rama feature a partir de developer: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">feature/phase-1-task-structure</span></code></p></li>
<li><p>Arrancar proyecto desde la raiz: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">start</span></code></p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Atención</p>
<p>npx viene instalado con npm y es su versión en la nube. De modo que si necesitas un paquete y no deseas instalarlo en tu máquina utiliza npx en lugar de npm.</p>
</div>
</section>
<section id="paso-3-crear-pagina-de-tareas">
<h3><a class="toc-backref" href="#id6">Paso 3: Crear página de tareas</a><a class="headerlink" href="#paso-3-crear-pagina-de-tareas" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>En la carpeta <strong>pages</strong>, crear carpeta <strong>tasks</strong> y dentro el archivo <strong>TasksPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">fragment</span> <span class="n">de</span> <span class="n">bootstrap</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">crear</span> <span class="n">función</span> <span class="n">para</span> <span class="n">listado</span> <span class="n">de</span> <span class="n">tareas</span><span class="p">:</span>
<span class="n">function</span> <span class="n">TaskPage</span><span class="p">(){</span>
    <span class="o">//</span> <span class="n">retornar</span> <span class="n">una</span> <span class="n">cabecera</span> <span class="n">de</span> <span class="n">prueba</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Listado</span> <span class="n">de</span> <span class="n">tareas</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>
<span class="o">//</span> <span class="n">Exportar</span> <span class="n">pagina</span><span class="p">:</span>
<span class="n">export</span> <span class="n">default</span> <span class="n">TaskPage</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Editar <strong>App.js</strong> para añadir esta página como la principal (provisional):</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="s1">&#39;./App.css&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">componente</span> <span class="n">página</span> <span class="n">TaskPage</span><span class="p">:</span>
<span class="kn">import</span> <span class="nn">TaskPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/tasks/TaskPage&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">App</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App&quot;</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="o">/*</span> <span class="n">Reemplazar</span> <span class="n">contenido</span> <span class="n">de</span> <span class="n">App</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="n">TaskPage</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">App</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-4-crear-componentes-navbar">
<h3><a class="toc-backref" href="#id7">Paso 4: Crear componentes navbar</a><a class="headerlink" href="#paso-4-crear-componentes-navbar" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Descargamos la siguiente imagen y la guardamos en una nueva carpeta dentro de <strong>src</strong> llamada <strong>assets</strong>: TODO…</p></li>
<li><p>Vamos a la carpeta <strong>common</strong> y creamos la hoja de estilos <strong>NavbarCommon.css</strong>:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">avatar</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Vamos a la carpeta <strong>common</strong> y creamos el componente <strong>NavbarCommon.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">hoja</span> <span class="n">de</span> <span class="n">estilos</span><span class="p">:</span>
<span class="kn">import</span> <span class="s1">&#39;./NavbarCommon.css&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">cargar</span> <span class="n">el</span> <span class="n">avatar</span> <span class="n">por</span> <span class="n">defecto</span><span class="p">:</span>
<span class="n">const</span> <span class="n">avatar</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s2">&quot;../assets/avatar.png&quot;</span><span class="p">);</span>

<span class="n">function</span> <span class="n">NavBarCommon</span><span class="p">(){</span>

    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">nav</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;container-fluid&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;navbar-brand&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;test.html&quot;</span><span class="o">&gt;</span><span class="n">Task</span> <span class="n">Learn</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                <span class="o">&lt;</span><span class="n">ul</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;navbar-nav mb-2 mb-lg-0&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">li</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;nav-item&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">a</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;nav-link text-center&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;test.html&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">img</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;avatar rounded img-thumbnail img-fluid&quot;</span> <span class="n">src</span><span class="o">=</span><span class="p">{</span><span class="n">avatar</span><span class="p">}</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;foto&quot;</span><span class="o">&gt;&lt;/</span><span class="n">img</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">small</span><span class="o">&gt;</span><span class="n">Usuario</span><span class="o">&lt;/</span><span class="n">small</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">nav</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">NavBarCommon</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Cargar el componente en <strong>TaskPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">componentes</span> <span class="n">navbar</span> <span class="n">y</span> <span class="n">footer</span><span class="p">:</span>
<span class="kn">import</span> <span class="nn">NavBarCommon</span> <span class="kn">from</span> <span class="s1">&#39;../../common/NavbarCommon&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">TaskPage</span><span class="p">(){</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="o">/*</span> <span class="n">Cargar</span> <span class="n">componentes</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="n">NavBarCommon</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>
<span class="o">//</span> <span class="n">Exportar</span> <span class="n">pagina</span><span class="p">:</span>
<span class="n">export</span> <span class="n">default</span> <span class="n">TaskPage</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Las rutas definidas en los enlaces son provisionales, cuando se instale React Router se irá configurando todo.</p>
</div>
</section>
<section id="paso-5-crear-tabla-para-listar-tareas">
<h3><a class="toc-backref" href="#id8">Paso 5: Crear tabla para listar tareas</a><a class="headerlink" href="#paso-5-crear-tabla-para-listar-tareas" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear un nuevo componente en la carpeta <strong>tasks</strong> llamado <strong>TaskTableComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>function TaskTableComponent(){
    // cargar datos de prueba:
    const dummyData = [
        {_id: 1, name: &quot;Cocinar&quot;, description: &quot;Cocinar galletas el sábado&quot;, date_created: &quot;08/08/2022&quot;, is_complete: true, date_finish: &quot;10/08/2022&quot;},
        {_id: 2, name: &quot;Preparar proyecto&quot;, description: &quot;Preparar proyecto para presentar en Septiembre&quot;, date_created: &quot;15/08/2022&quot;, is_complete: false},
        {_id: 3, name: &quot;Estudiar Java&quot;, description: &quot;Aprender Java para cubrir las especificaciones del proyecto&quot;, date_created: &quot;19/08/2022&quot;, is_complete: false}
    ]
    // crear tabla:
    return(
        &lt;div className=&quot;text-center container&quot;&gt;
            &lt;table className=&quot;table mt-4&quot;&gt;
                &lt;thead&gt;
                    &lt;tr&gt;
                        &lt;th scope=&quot;col&quot;&gt;Título&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Descripción&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Fecha creación&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Finalizada&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Fecha Finalización&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Operaciones&lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody className=&quot;text-start&quot;&gt;
                    {
                        dummyData.map(data =&gt; {
                            return(
                                &lt;tr key={data._id}&gt;
                                    &lt;td&gt;{data.name}&lt;/td&gt;
                                    &lt;td&gt;{data.description}&lt;/td&gt;
                                    &lt;td&gt;{data.date_created}&lt;/td&gt;
                                    &lt;td&gt;{data.is_complete ? (&#39;Si&#39;) : (&#39;No&#39;)}&lt;/td&gt;
                                    &lt;td&gt;{data.date_finish ? (data.date_finish) : (&#39;&#39;)}&lt;/td&gt;
                                    &lt;td className=&quot;text-center&quot;&gt;
                                        &lt;button class=&quot;btn btn-sm btn-primary me-2&quot;&gt;finalizar tarea&lt;/button&gt;
                                        &lt;button class=&quot;btn btn-sm btn-danger me-2&quot;&gt;Eliminar tarea&lt;/button&gt;
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                            )
                        })
                    }

                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/div&gt;
    )
}

export default TaskTableComponent;
</pre></div>
</div>
<ul class="simple">
<li><p>Cargar componente en <strong>TaskPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">NavBarCommon</span> <span class="kn">from</span> <span class="s1">&#39;../../common/NavbarCommon&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">cargar</span> <span class="n">componente</span><span class="p">:</span>
<span class="kn">import</span> <span class="nn">TaskTableComponent</span> <span class="kn">from</span> <span class="s1">&#39;./TaskTableComponent&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">TaskPage</span><span class="p">(){</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">NavBarCommon</span> <span class="o">/&gt;</span>
            <span class="p">{</span><span class="o">/*</span> <span class="n">Cargar</span> <span class="n">componentes</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="n">TaskTableComponent</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">TaskPage</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-6-crear-modals">
<h3><a class="toc-backref" href="#id9">Paso 6: Crear modals</a><a class="headerlink" href="#paso-6-crear-modals" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>En la carpeta <strong>tasks</strong> crear un componente <strong>FinishTaskComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">fragment</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">recuperar</span> <span class="n">campo</span> <span class="nb">id</span> <span class="k">del</span> <span class="n">hook</span><span class="p">:</span>
<span class="n">function</span> <span class="n">FinishTaskComponent</span><span class="p">({</span><span class="nb">id</span><span class="p">,</span> <span class="n">name</span><span class="p">}){</span>
    <span class="n">const</span> <span class="n">taskId</span> <span class="o">=</span> <span class="nb">id</span><span class="p">;</span>
    <span class="n">const</span> <span class="n">taskName</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">modal</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;finishModal&quot;</span> <span class="n">tabIndex</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">labelledby</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-dialog&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-content&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-header&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-title&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span><span class="o">&gt;</span><span class="n">Se</span> <span class="n">va</span> <span class="n">a</span> <span class="n">finalizar</span> <span class="n">la</span> <span class="n">siguiente</span> <span class="n">tarea</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn-close&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-body&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">{</span><span class="n">taskId</span><span class="p">}</span> <span class="o">-</span> <span class="p">{</span><span class="n">taskName</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-footer&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-secondary&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span><span class="o">&gt;</span><span class="n">Cancelar</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span><span class="o">&gt;</span><span class="n">Aceptar</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">FinishTaskComponent</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Crear otro nuevo modal en <strong>tasks</strong> llamado <strong>DeleteTaskModal.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">fragment</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">recuperar</span> <span class="n">campo</span> <span class="nb">id</span> <span class="k">del</span> <span class="n">hook</span><span class="p">:</span>
<span class="n">function</span> <span class="n">DeleteTaskModalComponent</span><span class="p">({</span><span class="nb">id</span><span class="p">,</span> <span class="n">name</span><span class="p">}){</span>
    <span class="n">const</span> <span class="n">taskId</span> <span class="o">=</span> <span class="nb">id</span><span class="p">;</span>
    <span class="n">const</span> <span class="n">taskName</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">modal</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;deleteModal&quot;</span> <span class="n">tabIndex</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">labelledby</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-dialog&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-content&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-header&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-title&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span><span class="o">&gt;</span><span class="n">Se</span> <span class="n">va</span> <span class="n">a</span> <span class="n">eliminar</span> <span class="n">la</span> <span class="n">siguiente</span> <span class="n">tarea</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn-close&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-body&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">{</span><span class="n">taskId</span><span class="p">}</span> <span class="o">-</span> <span class="p">{</span><span class="n">taskName</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-footer&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-secondary&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span><span class="o">&gt;</span><span class="n">Cancelar</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-danger&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span><span class="o">&gt;</span><span class="n">Aceptar</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">DeleteTaskModalComponent</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Cargar el componente justo después de la tabla en <strong>TaaskTableComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// importar hook usestate:
import {useState} from &#39;react&#39;;
import DeleteTaskModalComponent from &#39;./DeleteTaskModalComponent&#39;;
// cargar componente:
import FinishTaskModalComponent from &#39;./FinishTaskModalComponent&#39;;

function TaskTableComponent(){
    // preparar hook para recuperar id y titulo:
    const [id, setId] = useState(null);
    const [name, setName] = useState(null);

    // crear handle para id:
    const dataHandle = (id, name) =&gt; {
        return (e)=&gt;{
            setId(id);
            setName(name);
        }
    }

    const dummyData = [
        {_id: 1, name: &quot;Cocinar&quot;, description: &quot;Cocinar galletas el sábado&quot;, date_created: &quot;08/08/2022&quot;, is_complete: true, date_finish: &quot;10/08/2022&quot;},
        {_id: 2, name: &quot;Preparar proyecto&quot;, description: &quot;Preparar proyecto para presentar en Septiembre&quot;, date_created: &quot;15/08/2022&quot;, is_complete: false},
        {_id: 3, name: &quot;Estudiar Java&quot;, description: &quot;Aprender Java para cubrir las especificaciones del proyecto&quot;, date_created: &quot;19/08/2022&quot;, is_complete: false}
    ]

    return(
        &lt;div className=&quot;text-center container&quot;&gt;
            &lt;table className=&quot;table mt-4&quot;&gt;
                &lt;thead&gt;
                    &lt;tr&gt;
                        &lt;th scope=&quot;col&quot;&gt;Título&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Descripción&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Fecha creación&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Finalizada&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Fecha Finalización&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Operaciones&lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody className=&quot;text-start&quot;&gt;
                    {
                        dummyData.map(data =&gt; {
                            return(
                                &lt;tr key={data._id}&gt;
                                    &lt;td&gt;{data.name}&lt;/td&gt;
                                    &lt;td&gt;{data.description}&lt;/td&gt;
                                    &lt;td&gt;{data.date_created}&lt;/td&gt;
                                    &lt;td&gt;{data.is_complete ? (&#39;Si&#39;) : (&#39;No&#39;)}&lt;/td&gt;
                                    &lt;td&gt;{data.date_finish ? (data.date_finish) : (&#39;&#39;)}&lt;/td&gt;
                                    &lt;td className=&quot;text-center&quot;&gt;
                                        &lt;button type=&quot;button&quot; onClick={dataHandle(data._id, data.name)} class=&quot;btn btn-sm btn-primary me-2&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#finishModal&quot;&gt;finalizar tarea&lt;/button&gt;
                                        &lt;button type=&quot;button&quot; onClick={dataHandle(data._id, data.name)} class=&quot;btn btn-sm btn-danger me-2&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#deleteModal&quot;&gt;Eliminar tarea&lt;/button&gt;
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                            )
                        })
                    }

                &lt;/tbody&gt;
            &lt;/table&gt;
            {/* Añadimos el componente y le pasamos el hook id: */}
            &lt;FinishTaskModalComponent id={id} name={name} /&gt;
            &lt;DeleteTaskModalComponent id={id} name={name} /&gt;
        &lt;/div&gt;
    )
}

export default TaskTableComponent;
</pre></div>
</div>
</section>
<section id="paso-7-formulario-para-crear-tareas">
<h3><a class="toc-backref" href="#id10">Paso 7: Formulario para crear tareas</a><a class="headerlink" href="#paso-7-formulario-para-crear-tareas" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Seguimos editando el componente <strong>TaskTableComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// importar hook usestate:
import {useState} from &#39;react&#39;;
import DeleteTaskModalComponent from &#39;./DeleteTaskModalComponent&#39;;
// cargar componente:
import FinishTaskModalComponent from &#39;./FinishTaskModalComponent&#39;;

function TaskTableComponent(){
    // creamos un hook con el contenido de la tabla:
    const [dummyData, setDummyData] =  useState([
        {_id: 1, name: &quot;Cocinar&quot;, description: &quot;Cocinar galletas el sábado&quot;, date_created: &quot;08/08/2022&quot;, is_complete: true, date_finish: &quot;10/08/2022&quot;},
        {_id: 2, name: &quot;Preparar proyecto&quot;, description: &quot;Preparar proyecto para presentar en Septiembre&quot;, date_created: &quot;15/08/2022&quot;, is_complete: false},
        {_id: 3, name: &quot;Estudiar Java&quot;, description: &quot;Aprender Java para cubrir las especificaciones del proyecto&quot;, date_created: &quot;19/08/2022&quot;, is_complete: false}
    ])

    // preparar hook para recuperar id, titulo y descripción:
    const [id, setId] = useState(null);
    const [name, setName] = useState(null);
    const [description, setDescription] = useState(null);

    // crear handle para id:
    const dataHandle = (id, name) =&gt; {
        return (e)=&gt;{
            setId(id);
            setName(name);
        }
    }

    // crear handle para título:
    const handleName = (e) =&gt; {
        setName(e.target.value);
    }

    // crear handle para descripcion:
    const handleDescription = (e) =&gt; {
        setDescription(e.target.value);
    }

    // crear handle para formulario:
    const handleForm = (e) =&gt; {
        e.preventDefault();
        setDummyData(task =&gt; [...task, {_id: 4, name: name, description: description}])

    }

    return(
        &lt;div className=&quot;text-center container&quot;&gt;
            &lt;table className=&quot;table mt-4&quot;&gt;
                &lt;thead&gt;
                    &lt;tr&gt;
                        &lt;th scope=&quot;col&quot;&gt;Título&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Descripción&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Fecha creación&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Finalizada&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Fecha Finalización&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Operaciones&lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody className=&quot;text-start&quot;&gt;
                    {
                        dummyData.map(data =&gt; {
                            return(
                                &lt;tr key={data._id}&gt;
                                    &lt;td&gt;{data.name}&lt;/td&gt;
                                    &lt;td&gt;{data.description}&lt;/td&gt;
                                    &lt;td&gt;{data.date_created}&lt;/td&gt;
                                    &lt;td className=&quot;text-center&quot;&gt;{data.is_complete ? (&#39;Si&#39;) : (&#39;No&#39;)}&lt;/td&gt;
                                    &lt;td&gt;{data.date_finish ? (data.date_finish) : (&#39;&#39;)}&lt;/td&gt;
                                    &lt;td className=&quot;text-center&quot;&gt;
                                        &lt;button type=&quot;button&quot; onClick={dataHandle(data._id, data.name)} className=&quot;btn btn-sm btn-primary me-2 mb-1&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#finishModal&quot;&gt;Finalizar&lt;/button&gt;
                                        &lt;button type=&quot;button&quot; onClick={dataHandle(data._id, data.name)} className=&quot;btn btn-sm btn-danger me-2&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#deleteModal&quot;&gt;Eliminar&lt;/button&gt;
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                            )
                        })
                    }
                    {/* Crear un formulario para añadir nuevas tareas: */}
                    &lt;tr className=&quot;text-center&quot;&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td colSpan=&quot;3&quot; &gt;
                            &lt;form className=&quot;row input-group-sm&quot; onSubmit={handleForm}&gt;
                                &lt;input className=&quot;col me-2 form-control form-sm&quot; type=&quot;text&quot; placeholder=&quot;Título&quot; onChange={handleName} /&gt;
                                &lt;input className=&quot;col me-2 form-control&quot; type=&quot;text&quot; placeholder=&quot;Descripción&quot;  onChange={handleDescription} /&gt;
                                &lt;input className=&quot;col me-2 form-control btn btn-success&quot; type=&quot;submit&quot; value=&quot;Crear tarea&quot; /&gt;
                            &lt;/form&gt;
                        &lt;/td&gt;

                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
            {/* Añadimos el componente y le pasamos el hook id: */}
            &lt;FinishTaskModalComponent id={id} name={name} /&gt;
            &lt;DeleteTaskModalComponent id={id} name={name} /&gt;
        &lt;/div&gt;
    )
}

export default TaskTableComponent;
</pre></div>
</div>
<p>Ahora se pueden añadir tareas a la memoria dummy.</p>
</section>
<section id="paso-8-preparar-rutas">
<h3><a class="toc-backref" href="#id11">Paso 8: Preparar rutas</a><a class="headerlink" href="#paso-8-preparar-rutas" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Ahora vamos a preparar el router dentro de la carpeta <strong>src</strong> creamos el archivo <strong>Router.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">funciones</span> <span class="k">del</span> <span class="n">modulo</span> <span class="n">react</span> <span class="n">router</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">BrowserRouter</span><span class="p">,</span> <span class="n">Route</span><span class="p">,</span> <span class="n">Routes</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">fragment</span> <span class="n">también</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">importar</span> <span class="n">los</span> <span class="n">componentes</span> <span class="n">de</span> <span class="n">vista</span><span class="p">:</span>
<span class="kn">import</span> <span class="nn">TaskPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/tasks/TaskPage&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">Router</span><span class="p">(){</span>
    <span class="o">//</span> <span class="n">retornar</span> <span class="n">la</span> <span class="n">estructura</span> <span class="n">de</span> <span class="n">rutas</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">BrowserRouter</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">Routes</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">exact</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">TaskPage</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                    <span class="p">{</span><span class="o">/*</span> <span class="n">Ruta</span> <span class="n">para</span> <span class="n">urls</span> <span class="n">no</span> <span class="n">establecidas</span> <span class="p">(</span><span class="n">error</span> <span class="mi">404</span><span class="p">):</span> <span class="o">*/</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;*&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Error</span> <span class="mi">404</span> <span class="o">-</span> <span class="n">No</span> <span class="n">se</span> <span class="n">encuentra</span> <span class="n">la</span> <span class="n">página</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                <span class="o">&lt;/</span><span class="n">Routes</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">BrowserRouter</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">Router</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Lo siguiente será reemplazar el componente por el de rutas en <strong>App.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="s1">&#39;./App.css&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="s1">&#39;bootstrap/dist/js/bootstrap&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">Router</span> <span class="kn">from</span> <span class="s1">&#39;./Router&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">App</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App&quot;</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="o">/*</span> <span class="n">Reemplazar</span> <span class="n">contenido</span> <span class="n">de</span> <span class="n">App</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="n">Router</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">App</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Probamos a introducir cualquier ruta para comprobar que funciona el error 404.</p></li>
</ul>
</section>
<section id="paso-9-crear-pagina-de-usuarios">
<h3><a class="toc-backref" href="#id12">Paso 9: Crear pagina de usuarios</a><a class="headerlink" href="#paso-9-crear-pagina-de-usuarios" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Creamos una nueva carpeta en <strong>pages</strong> llamada <strong>users</strong>, ahora creamos un archivo llamado <strong>UserPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">NavBarCommon</span> <span class="kn">from</span> <span class="s1">&#39;../../common/NavbarCommon&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">UserPage</span><span class="p">(){</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">NavBarCommon</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">UserPage</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Creamos una nueva ruta para <strong>users</strong> en <strong>Router.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span><span class="n">BrowserRouter</span><span class="p">,</span> <span class="n">Route</span><span class="p">,</span> <span class="n">Routes</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">TaskPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/tasks/TaskPage&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">el</span> <span class="n">componente</span> <span class="n">user</span> <span class="n">page</span><span class="p">:</span>
<span class="kn">import</span> <span class="nn">UserPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/users/UserPage&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">Router</span><span class="p">(){</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">BrowserRouter</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">Routes</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">exact</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">TaskPage</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                    <span class="p">{</span><span class="o">/*</span> <span class="n">Añadir</span> <span class="n">ruta</span> <span class="n">para</span> <span class="n">editar</span> <span class="n">usuario</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/users&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">UserPage</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;*&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Error</span> <span class="mi">404</span> <span class="o">-</span> <span class="n">No</span> <span class="n">se</span> <span class="n">encuentra</span> <span class="n">la</span> <span class="n">página</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                <span class="o">&lt;/</span><span class="n">Routes</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">BrowserRouter</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">Router</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-10-anadir-enlaces-al-navbar">
<h3><a class="toc-backref" href="#id13">Paso 10: Añadir enlaces al navbar</a><a class="headerlink" href="#paso-10-anadir-enlaces-al-navbar" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Editamos el componente <strong>NavbarCommon.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="o">//</span>  <span class="n">importar</span> <span class="n">elementos</span> <span class="n">de</span> <span class="n">react</span> <span class="n">router</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">NavLink</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="s1">&#39;./NavbarCommon.css&#39;</span><span class="p">;</span>

<span class="n">const</span> <span class="n">avatar</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s2">&quot;../assets/avatar.png&quot;</span><span class="p">);</span>

<span class="n">function</span> <span class="n">NavBarCommon</span><span class="p">(){</span>

    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">nav</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;container-fluid&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">NavLink</span> <span class="n">to</span><span class="o">=</span><span class="s2">&quot;/&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;navbar-brand&quot;</span><span class="o">&gt;</span><span class="n">Task</span> <span class="n">Learn</span><span class="o">&lt;/</span><span class="n">NavLink</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                    <span class="o">&lt;</span><span class="n">ul</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;navbar-nav mb-2 mb-lg-0&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">li</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;nav-item&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">NavLink</span> <span class="n">to</span><span class="o">=</span><span class="s2">&quot;/users&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;nav-link text-center&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">img</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;avatar rounded img-thumbnail img-fluid&quot;</span> <span class="n">src</span><span class="o">=</span><span class="p">{</span><span class="n">avatar</span><span class="p">}</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;foto&quot;</span><span class="o">&gt;&lt;/</span><span class="n">img</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">small</span><span class="o">&gt;</span><span class="n">Usuario</span><span class="o">&lt;/</span><span class="n">small</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">NavLink</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">nav</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">NavBarCommon</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-11-crear-componente-para-editar-usuario">
<h3><a class="toc-backref" href="#id14">Paso 11: Crear componente para editar usuario</a><a class="headerlink" href="#paso-11-crear-componente-para-editar-usuario" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear una hoja de estilos en la carpeta <strong>users</strong> llamada <strong>UserFormComponent.css</strong>:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">avatarEdit</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Crear un nuevo componente en la carpeta <strong>users</strong> llamado <strong>UserFormComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">hook</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">useState</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">cargar</span> <span class="n">hoja</span> <span class="n">de</span> <span class="n">estilo</span><span class="p">:</span>
<span class="kn">import</span> <span class="s1">&#39;./UserFormComponent.css&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">avatar</span> <span class="n">por</span> <span class="n">defecto</span><span class="p">:</span>
<span class="n">const</span> <span class="n">avatar</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;../../assets/avatar.png&#39;</span><span class="p">);</span>

<span class="n">function</span> <span class="n">UserFormComponent</span><span class="p">(){</span>
    <span class="o">//</span> <span class="n">crear</span> <span class="n">hooks</span><span class="p">:</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">file</span><span class="p">,</span> <span class="n">setFile</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="n">setName</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">lastname</span><span class="p">,</span> <span class="n">setLastname</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">email</span><span class="p">,</span> <span class="n">setEmail</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">password</span><span class="p">,</span> <span class="n">setPassword</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">handles</span> <span class="n">para</span> <span class="n">cambiar</span> <span class="n">estado</span> <span class="n">de</span> <span class="n">hooks</span><span class="p">:</span>
    <span class="n">const</span> <span class="n">handleFile</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setFile</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handleName</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setName</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handleLastname</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setLastname</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handleEmail</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setEmail</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handlePassword</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setPassword</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">handle</span> <span class="n">para</span> <span class="n">formulario</span><span class="p">:</span>
    <span class="n">const</span> <span class="n">handleForm</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">e</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lastname</span><span class="p">);</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">password</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">cargar</span> <span class="n">formulario</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;container mt-4 text-center&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">form</span> <span class="n">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="n">handleForm</span><span class="p">}</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h3</span><span class="o">&gt;</span><span class="n">Datos</span> <span class="n">de</span> <span class="n">usuario</span><span class="o">&lt;/</span><span class="n">h3</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">hr</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="p">{</span><span class="n">avatar</span><span class="p">}</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;avatarEdit rounded img-thumbnail img-fluid&quot;</span>  <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;Avatar&quot;</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;file&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Subir avatar&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleFile</span><span class="p">}</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Nombre&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleName</span><span class="p">}</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Apellidos&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleLastname</span><span class="p">}</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Email&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleEmail</span><span class="p">}</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Contraseña&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handlePassword</span><span class="p">}</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-success form-control mt-3&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Actualizar datos&quot;</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">UserFormComponent</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Cargar componente en <strong>UserPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">NavBarCommon</span> <span class="kn">from</span> <span class="s1">&#39;../../common/NavbarCommon&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="o">//</span> <span class="n">importar</span> <span class="n">el</span> <span class="n">formulario</span><span class="p">:</span>
<span class="linenos"> 4</span><span class="kn">import</span> <span class="nn">UserFormComponent</span> <span class="kn">from</span> <span class="s1">&#39;./UserFormComponent&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="n">function</span> <span class="n">UserPage</span><span class="p">(){</span>
<span class="linenos"> 7</span>    <span class="k">return</span><span class="p">(</span>
<span class="linenos"> 8</span>        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
<span class="linenos"> 9</span>            <span class="o">&lt;</span><span class="n">NavBarCommon</span> <span class="o">/&gt;</span>
<span class="linenos">10</span>            <span class="p">{</span><span class="o">/*</span> <span class="n">Cargar</span> <span class="n">el</span> <span class="n">componente</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
<span class="linenos">11</span>            <span class="o">&lt;</span><span class="n">UserFormComponent</span> <span class="o">/&gt;</span>
<span class="linenos">12</span>        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
<span class="linenos">13</span>    <span class="p">)</span>
<span class="linenos">14</span><span class="p">}</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="n">export</span> <span class="n">default</span> <span class="n">UserPage</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-12-crear-pantalla-de-login">
<h3><a class="toc-backref" href="#id15">Paso 12: Crear pantalla de Login</a><a class="headerlink" href="#paso-12-crear-pantalla-de-login" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear una nueva carpeta en <strong>pages</strong> llamada <strong>login</strong> y dentro un archivo llamado <strong>LoginPage.css</strong>:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">html</span><span class="o">,</span><span class="w"></span>
<span class="p">.</span><span class="nc">bodystyle</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">vh</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">bodystyle</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span><span class="w"></span>
<span class="k">align-items</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span><span class="w"></span>
<span class="k">padding-top</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">padding-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f5f5f5</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">form-signin</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="w"></span>
<span class="k">max-width</span><span class="p">:</span><span class="w"> </span><span class="mi">330</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">form-signin</span><span class="w"> </span><span class="p">.</span><span class="nc">checkbox</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">form-signin</span><span class="w"> </span><span class="p">.</span><span class="nc">form-floating</span><span class="p">:</span><span class="nd">focus-within</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">z-index</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">form-signin</span><span class="w"> </span><span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span><span class="o">]</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">margin-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">border-bottom-right-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="k">border-bottom-left-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">form-signin</span><span class="w"> </span><span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span><span class="o">]</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">margin-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">border-top-left-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="k">border-top-right-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">cursor</span><span class="p">{</span><span class="w"></span>
<span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="kc">transparent</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Crear un archivo llamado <strong>LoginPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import {Fragment} from &#39;react&#39;;
import &#39;./LoginPage.css&#39;;
// importar el componente modal:
import RegisterModalComponent from &#39;./RegisterModalComponent&#39;;

// Crear función para cargar página de inicio:
function LoginPage(){

    // Cargar formulario de inicio:
    return(
        &lt;Fragment&gt;
            &lt;div className=&quot;bodystyle text-center&quot; cz-shortcut-listen=&quot;true&quot;&gt;
                &lt;div className=&quot;form-signin text-center&quot;&gt;
                    &lt;form&gt;
                        &lt;h1&gt;Por favor inicia sesión&lt;/h1&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;email&quot; className=&quot;form-control&quot; id=&quot;floatingInput&quot; placeholder=&quot;name@example.com&quot; /&gt;
                            &lt;label htmlFor=&quot;floatingInput&quot;&gt;Email&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;password&quot; className=&quot;form-control&quot; id=&quot;floatingPassword&quot; placeholder=&quot;Password&quot; /&gt;
                            &lt;label htmlFor=&quot;floatingPassword&quot;&gt;Contraseña&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;mb-3&quot;&gt;
                        &lt;button type=&quot;button&quot; className=&quot;cursor&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#registerUser&quot;&gt;Crear usuario&lt;/button&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;mb-3&quot;&gt;
                        &lt;button type=&quot;button&quot; className=&quot;cursor&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#resetPassword&quot;&gt;¿has olvidado la contraseña?&lt;/button&gt;
                        &lt;/div&gt;
                        &lt;button className=&quot;w-100 btn btn-lg btn-primary&quot; type=&quot;submit&quot;&gt;Iniciar sesión&lt;/button&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;RegisterModalComponent /&gt;
        &lt;/Fragment&gt;
    )
}

export default LoginPage;
</pre></div>
</div>
<ul class="simple">
<li><p>Cargar la ruta en <strong>Router.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span><span class="n">BrowserRouter</span><span class="p">,</span> <span class="n">Route</span><span class="p">,</span> <span class="n">Routes</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">TaskPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/tasks/TaskPage&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">UserPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/users/UserPage&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">el</span> <span class="n">componente</span> <span class="n">login</span><span class="p">:</span>
<span class="kn">import</span> <span class="nn">LoginPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/login/LoginPage&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">Router</span><span class="p">(){</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">BrowserRouter</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">Routes</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">exact</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">TaskPage</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/users&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">UserPage</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                    <span class="p">{</span><span class="o">/*</span> <span class="n">Añadir</span> <span class="n">ruta</span> <span class="n">para</span> <span class="n">editar</span> <span class="n">usuario</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/login&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">LoginPage</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;*&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Error</span> <span class="mi">404</span> <span class="o">-</span> <span class="n">No</span> <span class="n">se</span> <span class="n">encuentra</span> <span class="n">la</span> <span class="n">página</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                <span class="o">&lt;/</span><span class="n">Routes</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">BrowserRouter</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">Router</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-13-crear-modal-para-registrar-usuarios">
<h3><a class="toc-backref" href="#id16">Paso 13: Crear modal para registrar usuarios</a><a class="headerlink" href="#paso-13-crear-modal-para-registrar-usuarios" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear un nuevo componente en <strong>login</strong> llamado <strong>RegisterModalComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">fragment</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">useState</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">recuperar</span> <span class="n">campo</span> <span class="nb">id</span> <span class="k">del</span> <span class="n">hook</span><span class="p">:</span>
<span class="n">function</span> <span class="n">RegisterModalComponent</span><span class="p">(){</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">email</span><span class="p">,</span> <span class="n">setEmail</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">password</span><span class="p">,</span> <span class="n">setPassword</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

    <span class="n">const</span> <span class="n">handleEmail</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setEmail</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handlePassword</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setPassword</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">handle</span> <span class="n">para</span> <span class="n">formulario</span><span class="p">:</span>
    <span class="n">const</span> <span class="n">handleForm</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">e</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">password</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">modal</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;registerUser&quot;</span> <span class="n">tabIndex</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">labelledby</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-dialog&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-content&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-header&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-title&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span><span class="o">&gt;</span><span class="n">Registro</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn-close&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-body&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">form</span> <span class="n">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="n">handleForm</span><span class="p">}</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Email&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleEmail</span><span class="p">}</span> <span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Contraseña&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handlePassword</span><span class="p">}</span> <span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-success form-control mt-3&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Darse de alta&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="o">/&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">RegisterModalComponent</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Cargar modal en <strong>LoginPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import {Fragment} from &#39;react&#39;;
import &#39;./LoginPage.css&#39;;
import RegisterModalComponent from &#39;./RegisterModalComponent&#39;;

function LoginPage(){

    return(
        &lt;Fragment&gt;
            &lt;div className=&quot;bodystyle text-center&quot; cz-shortcut-listen=&quot;true&quot;&gt;
                &lt;div className=&quot;form-signin text-center&quot;&gt;
                    &lt;form&gt;
                        &lt;h1&gt;Por favor inicia sesión&lt;/h1&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;email&quot; className=&quot;form-control&quot; id=&quot;floatingInput&quot; placeholder=&quot;name@example.com&quot; /&gt;
                            &lt;label htmlFor=&quot;floatingInput&quot;&gt;Email&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;password&quot; className=&quot;form-control&quot; id=&quot;floatingPassword&quot; placeholder=&quot;Password&quot; /&gt;
                            &lt;label htmlFor=&quot;floatingPassword&quot;&gt;Contraseña&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;mb-3&quot;&gt;
                        &lt;button type=&quot;button&quot; className=&quot;cursor&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#registerUser&quot;&gt;Crear usuario&lt;/button&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;mb-3&quot;&gt;
                        &lt;button type=&quot;button&quot; className=&quot;cursor&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#resetPassword&quot;&gt;¿has olvidado la contraseña?&lt;/button&gt;
                        &lt;/div&gt;
                        &lt;button className=&quot;w-100 btn btn-lg btn-primary&quot; type=&quot;submit&quot;&gt;Iniciar sesión&lt;/button&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            {/* cargar modal: */}
            &lt;RegisterModalComponent /&gt;
        &lt;/Fragment&gt;
    )
}

export default LoginPage;
</pre></div>
</div>
</section>
<section id="paso-14-crear-alerta-cuando-se-registra-usuario">
<h3><a class="toc-backref" href="#id17">Paso 14: Crear alerta cuando se registra usuario</a><a class="headerlink" href="#paso-14-crear-alerta-cuando-se-registra-usuario" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear nueva regla de al final del archivo <strong>LoginPage.css</strong>:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">alert</span><span class="p">{</span><span class="w"></span>
<span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">fixed</span><span class="p">;</span><span class="w"></span>
<span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Crear alerta en <strong>LoginPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import {Fragment} from &#39;react&#39;;
import {useState} from &#39;react&#39;;
import &#39;./LoginPage.css&#39;;
import RegisterModalComponent from &#39;./RegisterModalComponent&#39;;

function LoginPage(){
    // crear hook para la alerta:
    const [alert, setAlert] = useState(false);

    return(
        &lt;Fragment&gt;
            {/* crear un alert con condición de ocultar en la clase: */}
            &lt;div className={alert === true ? &quot;alert alert-success&quot; : &quot;alert alert-success fade&quot;} role=&quot;alert&quot;&gt;
                Registro realizado con éxito. Ya puedes iniciar sesión.
            &lt;/div&gt;
            &lt;div className=&quot;bodystyle text-center&quot; cz-shortcut-listen=&quot;true&quot;&gt;
                &lt;div className=&quot;form-signin text-center&quot;&gt;
                    &lt;form&gt;
                        &lt;h1&gt;Por favor inicia sesión&lt;/h1&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;email&quot; className=&quot;form-control&quot; id=&quot;floatingInput&quot; placeholder=&quot;name@example.com&quot; /&gt;
                            &lt;label htmlFor=&quot;floatingInput&quot;&gt;Email&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;password&quot; className=&quot;form-control&quot; id=&quot;floatingPassword&quot; placeholder=&quot;Password&quot; /&gt;
                            &lt;label htmlFor=&quot;floatingPassword&quot;&gt;Contraseña&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;mb-3&quot;&gt;
                        &lt;button type=&quot;button&quot; className=&quot;cursor&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#registerUser&quot;&gt;Crear usuario&lt;/button&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;mb-3&quot;&gt;
                        &lt;button type=&quot;button&quot; className=&quot;cursor&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#resetPassword&quot;&gt;¿has olvidado la contraseña?&lt;/button&gt;
                        &lt;/div&gt;
                        &lt;button className=&quot;w-100 btn btn-lg btn-primary&quot; type=&quot;submit&quot;&gt;Iniciar sesión&lt;/button&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            {/* pasar estado de la alerta: */}
            &lt;RegisterModalComponent setAlert={setAlert} /&gt;
        &lt;/Fragment&gt;
    )
}

export default LoginPage;
</pre></div>
</div>
<ul class="simple">
<li><p>Modificar ahora el componente <strong>RegisterModalComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">fragment</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">useState</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">recuperar</span> <span class="n">campo</span> <span class="n">estado</span> <span class="k">del</span> <span class="n">hook</span><span class="p">:</span>
<span class="n">function</span> <span class="n">RegisterModalComponent</span><span class="p">({</span><span class="n">setAlert</span><span class="p">}){</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">email</span><span class="p">,</span> <span class="n">setEmail</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">password</span><span class="p">,</span> <span class="n">setPassword</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

    <span class="n">const</span> <span class="n">handleEmail</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setEmail</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handlePassword</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setPassword</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">handle</span> <span class="n">para</span> <span class="n">formulario</span><span class="p">:</span>
    <span class="n">const</span> <span class="n">handleForm</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">e</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">password</span><span class="p">);</span>
        <span class="o">//</span> <span class="n">cargar</span> <span class="n">alert</span> <span class="n">durante</span> <span class="mi">3</span> <span class="n">segundos</span><span class="p">:</span>
        <span class="n">setAlert</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>
        <span class="n">window</span><span class="o">.</span><span class="n">setTimeout</span><span class="p">(()</span><span class="o">=&gt;</span><span class="p">{</span>
            <span class="n">setAlert</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
        <span class="p">},</span> <span class="mi">3000</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">modal</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;registerUser&quot;</span> <span class="n">tabIndex</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">labelledby</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-dialog&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-content&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-header&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-title&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span><span class="o">&gt;</span><span class="n">Registro</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn-close&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-body&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">form</span> <span class="n">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="n">handleForm</span><span class="p">}</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Email&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleEmail</span><span class="p">}</span> <span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Contraseña&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handlePassword</span><span class="p">}</span> <span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-success form-control mt-3&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Darse de alta&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="o">/&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">RegisterModalComponent</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-15-crear-modal-para-recuperar-contrasena">
<h3><a class="toc-backref" href="#id18">Paso 15: Crear modal para recuperar contraseña</a><a class="headerlink" href="#paso-15-crear-modal-para-recuperar-contrasena" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear nuevo archivo en <strong>login</strong> llamado <strong>ResetModalComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">fragment</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">useState</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">recuperar</span> <span class="n">campo</span> <span class="n">estado</span> <span class="k">del</span> <span class="n">hook</span><span class="p">:</span>
<span class="n">function</span> <span class="n">ResetModalComponent</span><span class="p">({</span><span class="n">setAlert</span><span class="p">}){</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">email</span><span class="p">,</span> <span class="n">setEmail</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

    <span class="n">const</span> <span class="n">handleEmail</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setEmail</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">handle</span> <span class="n">para</span> <span class="n">formulario</span><span class="p">:</span>
    <span class="n">const</span> <span class="n">handleForm</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">e</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
        <span class="o">//</span> <span class="n">cargar</span> <span class="n">alert</span> <span class="n">durante</span> <span class="mi">3</span> <span class="n">segundos</span><span class="p">:</span>
        <span class="n">setAlert</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>
        <span class="n">window</span><span class="o">.</span><span class="n">setTimeout</span><span class="p">(()</span><span class="o">=&gt;</span><span class="p">{</span>
            <span class="n">setAlert</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
        <span class="p">},</span> <span class="mi">3000</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">modal</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;resetPassword&quot;</span> <span class="n">tabIndex</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">labelledby</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-dialog&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-content&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-header&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-title&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span><span class="o">&gt;</span><span class="n">Resetear</span> <span class="n">contraseña</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn-close&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-body&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">form</span> <span class="n">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="n">handleForm</span><span class="p">}</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;col text-center&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Email&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleEmail</span><span class="p">}</span> <span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-success form-control mt-3&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Enviar email&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="n">small</span><span class="o">&gt;</span><span class="n">Recibirás</span> <span class="n">un</span> <span class="n">email</span> <span class="n">que</span> <span class="n">te</span> <span class="n">llevará</span> <span class="n">donde</span> <span class="n">resetear</span> <span class="n">tu</span> <span class="n">contraseña</span><span class="o">&lt;/</span><span class="n">small</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">ResetModalComponent</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Cargar el alert y el modal en <strong>LoginPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import {Fragment} from &#39;react&#39;;
import {useState} from &#39;react&#39;;
import &#39;./LoginPage.css&#39;;
import RegisterModalComponent from &#39;./RegisterModalComponent&#39;;
// importar el modal reset:
import ResetModalComponent from &#39;./ResetModalComponent&#39;;

function LoginPage(){
    const [alert, setAlert] = useState(false);
    // crear hook para la alerta:
    const [resetAlert, setResetAlert] = useState(false);

    return(
        &lt;Fragment&gt;
            &lt;div className={alert === true ? &quot;alert alert-success&quot; : &quot;alert alert-success fade&quot;} role=&quot;alert&quot;&gt;
                Registro realizado con éxito. Ya puedes iniciar sesión.
            &lt;/div&gt;
            {/* crear un alert con condición de ocultar en la clase: */}
            &lt;div className={resetAlert === true ? &quot;alert alert-primary&quot; : &quot;alert alert-success fade&quot;} role=&quot;alert&quot;&gt;
                Se ha enviado un email para restablecer contraseña, por favor revisa tu bandeja de entrada.
            &lt;/div&gt;
            &lt;div className=&quot;bodystyle text-center&quot; cz-shortcut-listen=&quot;true&quot;&gt;
                &lt;div className=&quot;form-signin text-center&quot;&gt;
                    &lt;form&gt;
                        &lt;h1&gt;Por favor inicia sesión&lt;/h1&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;email&quot; className=&quot;form-control&quot; id=&quot;floatingInput&quot; placeholder=&quot;name@example.com&quot; /&gt;
                            &lt;label htmlFor=&quot;floatingInput&quot;&gt;Email&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;password&quot; className=&quot;form-control&quot; id=&quot;floatingPassword&quot; placeholder=&quot;Password&quot; /&gt;
                            &lt;label htmlFor=&quot;floatingPassword&quot;&gt;Contraseña&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;mb-3&quot;&gt;
                        &lt;button type=&quot;button&quot; className=&quot;cursor&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#registerUser&quot;&gt;Crear usuario&lt;/button&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;mb-3&quot;&gt;
                        &lt;button type=&quot;button&quot; className=&quot;cursor&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#resetPassword&quot;&gt;¿has olvidado la contraseña?&lt;/button&gt;
                        &lt;/div&gt;
                        &lt;button className=&quot;w-100 btn btn-lg btn-primary&quot; type=&quot;submit&quot;&gt;Iniciar sesión&lt;/button&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;RegisterModalComponent setAlert={setAlert} /&gt;
            {/* pasar estado de la alerta: */}
            &lt;ResetModalComponent setAlert={setResetAlert} /&gt;
        &lt;/Fragment&gt;
    )
}

export default LoginPage;
</pre></div>
</div>
</section>
<section id="paso-16-crear-pagina-para-restablecer-contrasena">
<h3><a class="toc-backref" href="#id19">Paso 16: Crear página para restablecer contraseña</a><a class="headerlink" href="#paso-16-crear-pagina-para-restablecer-contrasena" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Ahora se va a crear dentro de <strong>pages</strong> una carpeta llamada <strong>reset</strong> y dentro un archivo llamado <strong>ResetPasswordPage.css</strong>:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">html</span><span class="o">,</span><span class="w"></span>
<span class="p">.</span><span class="nc">bodystyle</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">vh</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">bodystyle</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span><span class="w"></span>
<span class="k">align-items</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span><span class="w"></span>
<span class="k">padding-top</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">padding-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f5f5f5</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">form-signin</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="w"></span>
<span class="k">max-width</span><span class="p">:</span><span class="w"> </span><span class="mi">330</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">form-signin</span><span class="w"> </span><span class="p">.</span><span class="nc">checkbox</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">form-signin</span><span class="w"> </span><span class="p">.</span><span class="nc">form-floating</span><span class="p">:</span><span class="nd">focus-within</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">z-index</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">form-signin</span><span class="w"> </span><span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span><span class="o">]</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">margin-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">border-bottom-right-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="k">border-bottom-left-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">form-signin</span><span class="w"> </span><span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span><span class="o">]</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">margin-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">border-top-left-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="k">border-top-right-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">cursor</span><span class="p">{</span><span class="w"></span>
<span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="kc">transparent</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">.</span><span class="nc">alert</span><span class="p">{</span><span class="w"></span>
<span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">fixed</span><span class="p">;</span><span class="w"></span>
<span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Creamos un archivo llamado <strong>ResetPasswordPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import {Fragment} from &#39;react&#39;;
import {useState} from &#39;react&#39;;
import &#39;./ResetPasswordPage.css&#39;;
// importar useParams de React Router:
import { useParams } from &#39;react-router-dom&#39;;

function ResetPasswordPage(){
    // crear dos hooks para la contraseña:
    const [newPassword, setNewPassword] = useState(&quot;&quot;);
    const [repiteNewPassword, setRepiteNewPassword] = useState(&quot;&quot;);
    const [alert, setAlert] = useState(false);
    const [match, setMatch] = useState(true);

    // recuperar parametros de ruta:
    const {id, token} = useParams();

    // crear handles:
    const handleNewPassword = (e) =&gt; {
        setNewPassword(e.target.value);
    }

    const handleRepiteNewPassword = (e) =&gt; {
        setRepiteNewPassword(e.target.value);
    }

    const handleForm = (e) =&gt; {
        e.preventDefault();
        console.log(newPassword);
        console.log(repiteNewPassword);
        console.log(id);
        console.log(token);
        // comprobar que las contraseñas coinciden:
        if(newPassword !== repiteNewPassword){
            console.log(&quot;No coinciden las claves&quot;);
            setMatch(false);
        }else{
            // cargar alert y redirigir en 3 segundos:
            setMatch(true);
            setAlert(true);
            window.setTimeout(()=&gt;{
                window.location.href = &quot;/login&quot;;
            }, 3000);
        }

    }

    return(
        &lt;Fragment&gt;
            {/* crear un alert con condición de ocultar en la clase: */}
            &lt;div className={alert === true ? &quot;alert alert-success&quot; : &quot;alert alert-success fade&quot;} role=&quot;alert&quot;&gt;
                Contraseña restablecida con éxito. Ya puedes iniciar sesión.
            &lt;/div&gt;
            &lt;div className=&quot;bodystyle text-center&quot; cz-shortcut-listen=&quot;true&quot;&gt;
                &lt;div className=&quot;form-signin text-center&quot;&gt;
                    &lt;form onSubmit={handleForm}&gt;
                        &lt;h1&gt;Restablecer contraseña&lt;/h1&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;password&quot; className=&quot;form-control&quot; placeholder=&quot;Password&quot; onChange={(handleNewPassword)} /&gt;
                            &lt;label htmlFor=&quot;floatingPassword&quot;&gt;Nueva contraseña&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;password&quot; className=&quot;form-control&quot; placeholder=&quot;Password&quot;  onChange={handleRepiteNewPassword}  /&gt;
                            &lt;label htmlFor=&quot;floatingPassword&quot;&gt;Repetir nueva contraseña&lt;/label&gt;
                            &lt;small className={match === false ? &quot;text-danger&quot; : &quot;text-danger invisible&quot;}&gt;Las contraseñas no coinciden&lt;/small&gt;
                        &lt;/div&gt;
                        &lt;button className=&quot;w-100 btn btn-lg btn-secondary&quot; type=&quot;submit&quot;&gt;Cambiar contraseña&lt;/button&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/Fragment&gt;
    )
}

export default ResetPasswordPage;
</pre></div>
</div>
<ul class="simple">
<li><p>Crear nueva ruta para resetear clave <strong>Router.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span><span class="n">BrowserRouter</span><span class="p">,</span> <span class="n">Route</span><span class="p">,</span> <span class="n">Routes</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">TaskPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/tasks/TaskPage&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">UserPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/users/UserPage&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">LoginPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/login/LoginPage&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">el</span> <span class="n">componente</span> <span class="n">para</span> <span class="n">resetear</span> <span class="n">password</span><span class="p">:</span>
<span class="kn">import</span> <span class="nn">ResetPasswordPage</span> <span class="kn">from</span> <span class="s1">&#39;./pages/reset/ResetPasswordPage&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">Router</span><span class="p">(){</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">BrowserRouter</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">Routes</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">exact</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">TaskPage</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/users&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">UserPage</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/login&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">LoginPage</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                    <span class="p">{</span><span class="o">/*</span> <span class="n">Añadir</span> <span class="n">ruta</span> <span class="n">para</span> <span class="n">restablecer</span> <span class="n">contraseña</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/reset/:id/:token&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">ResetPasswordPage</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;*&quot;</span> <span class="n">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Error</span> <span class="mi">404</span> <span class="o">-</span> <span class="n">No</span> <span class="n">se</span> <span class="n">encuentra</span> <span class="n">la</span> <span class="n">página</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
                <span class="o">&lt;/</span><span class="n">Routes</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">BrowserRouter</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">Router</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-17-subir-cambios-a-github">
<h3><a class="toc-backref" href="#id20">Paso 17: Subir cambios a GitHub</a><a class="headerlink" href="#paso-17-subir-cambios-a-github" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Parar depuración de Visual studio code.</p></li>
<li><p>Añadir cambios: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code></p></li>
<li><p>Realizar un commit: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-am</span> <span class="pre">&quot;Phase</span> <span class="pre">1</span> <span class="pre">complete&quot;</span></code></p></li>
<li><p>Subir cambios a Github con el nombre de la rama actual: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">feature/phase-1-task-structure</span></code></p></li>
<li><p>Desde gitHub presionar botón <strong>Compare &amp; pull request</strong>.</p></li>
<li><p>cambiar rama base <strong>master</strong> por <strong>developer</strong> y pulsar <strong>Create pull request</strong></p></li>
<li><p>Pulsar en <strong>Merge pull request</strong> y a continuación en <strong>Confirm merge</strong>.</p></li>
<li><p>Una vez terminado volvemos a local y cambiamos de rama a developer: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">developer</span></code></p></li>
<li><p>Actualizamos rama developer: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">origin</span> <span class="pre">developer</span></code></p></li>
</ul>
<p>Y con esto concluye la primera fase del proyecto.</p>
<hr><br></section>
</section>
<section id="fase-2-conectar-con-api-rest">
<h2><a class="toc-backref" href="#id21">Fase 2: Conectar con API Rest</a><a class="headerlink" href="#fase-2-conectar-con-api-rest" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En esta fase se van a crear todas las pantallas de la aplicación.</p>
<section id="paso-1-descargar-api-task-learn">
<h3><a class="toc-backref" href="#id22">Paso 1: Descargar API Task Learn</a><a class="headerlink" href="#paso-1-descargar-api-task-learn" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Clonar cualquier repositorio API Task Learn de Fullcoder Learn, por ejemplo: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/Fullcoder-Learning/task-learning-api.git</span></code></p></li>
<li><p>Acceder al directorio raiz del proyecto y ejectuar <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">start</span></code>.</p></li>
</ul>
</section>
<section id="id1">
<h3><a class="toc-backref" href="#id23">Paso 2: Preparar proyecto</a><a class="headerlink" href="#id1" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear rama feature a partir de developer: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">feature/phase-2-connect-to-service</span></code></p></li>
<li><p>Instalar Axios: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">axios</span> <span class="pre">--save</span></code></p></li>
<li><p>Instalar React JWT: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">react-jwt</span> <span class="pre">--save</span></code></p></li>
<li><p>en la carpeta <strong>src</strong> crear la carpeta <strong>requests</strong> y <strong>helpers</strong>.</p></li>
<li><p>Arrancar proyecto desde la raiz: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">start</span></code></p></li>
</ul>
</section>
<section id="paso-3-crear-servicio-para-registrarse">
<h3><a class="toc-backref" href="#id24">Paso 3: Crear servicio para registrarse</a><a class="headerlink" href="#paso-3-crear-servicio-para-registrarse" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>En la carpeta <strong>requests</strong> crear archivo <strong>userRequest.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// importar axios para hacer peticiones rest:
import axios from &#39;axios&#39;;

// cargar url base:
const url_base = &quot;http://localhost:5000/api&quot;

async function registerRequest(email, password, setAlert){
    // realizar petición post con usuario y el email:
    await axios.post(`${url_base}/register`, {
        email: email,
        password: password
    }) // si todo va bien que muestre una alerta:
    .then(response =&gt; {
        setAlert(true);
        // cerrar alerta a los 3 segundos:
        window.setTimeout(()=&gt;{
            setAlert(false);
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}

export{
    registerRequest // exportar modulo
}
</pre></div>
</div>
<ul class="simple">
<li><p>Editamos el componente <strong>RegisterModalComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">fragment</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">useState</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">modulo</span> <span class="n">registro</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">registerRequest</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;../../requests/userRequest&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">RegisterModalComponent</span><span class="p">({</span><span class="n">setAlert</span><span class="p">}){</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">email</span><span class="p">,</span> <span class="n">setEmail</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">password</span><span class="p">,</span> <span class="n">setPassword</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

    <span class="n">const</span> <span class="n">handleEmail</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setEmail</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handlePassword</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setPassword</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">handle</span> <span class="n">para</span> <span class="n">formulario</span><span class="p">:</span>
    <span class="n">const</span> <span class="n">handleForm</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">e</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
        <span class="n">registerRequest</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">setAlert</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">modal</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;registerUser&quot;</span> <span class="n">tabIndex</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">labelledby</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-dialog&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-content&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-header&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-title&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span><span class="o">&gt;</span><span class="n">Registro</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn-close&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-body&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">form</span> <span class="n">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="n">handleForm</span><span class="p">}</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Email&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleEmail</span><span class="p">}</span> <span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Contraseña&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handlePassword</span><span class="p">}</span> <span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-success form-control mt-3&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Darse de alta&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="o">/&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">RegisterModalComponent</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-4-crear-servicio-para-iniciar-sesion">
<h3><a class="toc-backref" href="#id25">Paso 4: Crear servicio para iniciar sesión</a><a class="headerlink" href="#paso-4-crear-servicio-para-iniciar-sesion" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Añadir una nueva función al servicio <strong>userRequest.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import axios from &#39;axios&#39;;

const url_base = &quot;http://localhost:5000/api&quot;

async function registerRequest(email, password, setAlert){
    await axios.post(`${url_base}/register`, {
        email: email,
        password: password
    })
    .then(response =&gt; {
        setAlert(true);
        window.setTimeout(()=&gt;{
            setAlert(false);
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}

// nueva función para hacer login:
async function loginRequest(email, password){
    await axios.post(`${url_base}/login`, {
        email: email,
        password: password
    })
    .then(response =&gt; {
        // si se inicia sesión correctamente guardar token y redirigir:
        localStorage.setItem(&#39;token&#39;, response.data.token);
        window.location.href = &#39;/&#39;;
    }).catch(error =&gt;{
        console.log(error);
    });
}

export{
    registerRequest,
    loginRequest // exportar modulo
}
</pre></div>
</div>
<ul class="simple">
<li><p>Editar <strong>LoginPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import {Fragment} from &#39;react&#39;;
import {useState} from &#39;react&#39;;
import &#39;./LoginPage.css&#39;;
import RegisterModalComponent from &#39;./RegisterModalComponent&#39;;
import ResetModalComponent from &#39;./ResetModalComponent&#39;;
// importar modulo login:
import {loginRequest} from &#39;../../requests/userRequest&#39;;

function LoginPage(){
    const [alert, setAlert] = useState(false);
    const [resetAlert, setResetAlert] = useState(false);
    // añadir todo lo relacionado con email y password y el form:
    const [email, setEmail] = useState(&quot;&quot;);
    const [password, setPassword] = useState(&quot;&quot;);

    const handleEmail = (e) =&gt;{
        setEmail(e.target.value);
    }

    const handlePassword = (e) =&gt;{
        setPassword(e.target.value);
    }

    // crear handle para formulario:
    const handleForm = (e) =&gt;{
        e.preventDefault();
        loginRequest(email, password);
    }

    return(
        &lt;Fragment&gt;
            &lt;div className={alert === true ? &quot;alert alert-success&quot; : &quot;alert alert-success fade&quot;} role=&quot;alert&quot;&gt;
                Registro realizado con éxito. Ya puedes iniciar sesión.
            &lt;/div&gt;
            &lt;div className={resetAlert === true ? &quot;alert alert-primary&quot; : &quot;alert alert-success fade&quot;} role=&quot;alert&quot;&gt;
                Se ha enviado un email para restablecer contraseña, por favor revisa tu bandeja de entrada.
            &lt;/div&gt;
            &lt;div className=&quot;bodystyle text-center&quot; cz-shortcut-listen=&quot;true&quot;&gt;
                &lt;div className=&quot;form-signin text-center&quot;&gt;
                    {/* añadir el handle: */}
                    &lt;form onSubmit={handleForm}&gt;
                        &lt;h1&gt;Por favor inicia sesión&lt;/h1&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            {/* añadir el handle: */}
                            &lt;input type=&quot;email&quot; className=&quot;form-control&quot; placeholder=&quot;name@example.com&quot; onChange={handleEmail} /&gt;
                            &lt;label htmlFor=&quot;floatingInput&quot;&gt;Email&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            {/* añadir el handle: */}
                            &lt;input type=&quot;password&quot; className=&quot;form-control&quot; placeholder=&quot;Contraseña&quot; onChange={handlePassword} /&gt;
                            &lt;label htmlFor=&quot;floatingPassword&quot;&gt;Contraseña&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;mb-3&quot;&gt;
                        &lt;button type=&quot;button&quot; className=&quot;cursor&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#registerUser&quot;&gt;Crear usuario&lt;/button&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;mb-3&quot;&gt;
                        &lt;button type=&quot;button&quot; className=&quot;cursor&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#resetPassword&quot;&gt;¿has olvidado la contraseña?&lt;/button&gt;
                        &lt;/div&gt;
                        &lt;button className=&quot;w-100 btn btn-lg btn-primary&quot; type=&quot;submit&quot;&gt;Iniciar sesión&lt;/button&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;RegisterModalComponent setAlert={setAlert} /&gt;
            &lt;ResetModalComponent setAlert={setResetAlert} /&gt;
        &lt;/Fragment&gt;
    )
}

export default LoginPage;
</pre></div>
</div>
</section>
<section id="paso-5-securizar-rutas">
<h3><a class="toc-backref" href="#id26">Paso 5: Securizar rutas</a><a class="headerlink" href="#paso-5-securizar-rutas" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Modificar rutas para que solo se pueda acceder con un token valido. Editamos <strong>Router.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// importar modulo navigate para redireccionar:
import {BrowserRouter, Route, Routes, Navigate} from &#39;react-router-dom&#39;;
import {Fragment} from &#39;react&#39;;
// importar jwt:
import {useJwt} from &#39;react-jwt&#39;;

import TaskPage from &#39;./pages/tasks/TaskPage&#39;;
import UserPage from &#39;./pages/users/UserPage&#39;;
import LoginPage from &#39;./pages/login/LoginPage&#39;;
import ResetPasswordPage from &#39;./pages/reset/ResetPasswordPage&#39;;

// volver función asincrona:
function Router(){
    // recuperar token:
    const localToken = localStorage.getItem(&quot;token&quot;);
    // comprobar si ha caducado:
    const {isExpired} = useJwt(localToken);
    // crear una redirección si no se cumplen las condiciones:
    const redirect = &lt;Navigate replace to=&#39;/login&#39; /&gt;

    return(
        &lt;Fragment&gt;
            &lt;BrowserRouter&gt;
                &lt;Routes&gt;
                    {/* Ahora se cambia el estado del componente raiz por RouteGuard: */}
                    &lt;Route exact path=&quot;/&quot; element={
                            isExpired ? redirect : &lt;TaskPage /&gt;} /&gt;
                    &lt;Route exact path=&quot;/users&quot; element={
                            isExpired ? redirect : &lt;UserPage /&gt;} /&gt;
                    &lt;Route path=&quot;/login&quot; element={&lt;LoginPage /&gt;} /&gt;
                    {/* Añadir ruta para restablecer contraseña: */}
                    &lt;Route path=&quot;/reset/:id/:token&quot; element={&lt;ResetPasswordPage /&gt;} /&gt;
                    &lt;Route path=&quot;*&quot; element={&lt;h1&gt;Error 404 - No se encuentra la página&lt;/h1&gt;} /&gt;
                &lt;/Routes&gt;
            &lt;/BrowserRouter&gt;
        &lt;/Fragment&gt;
    )
}

export default Router;
</pre></div>
</div>
</section>
<section id="paso-6-enviar-email-para-restablecer-contrasena">
<h3><a class="toc-backref" href="#id27">paso 6: Enviar email para restablecer contraseña</a><a class="headerlink" href="#paso-6-enviar-email-para-restablecer-contrasena" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear servicio en <strong>userRequest.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import axios from &#39;axios&#39;;

const url_base = &quot;http://localhost:5000/api&quot;

async function registerRequest(email, password, setAlert){
    await axios.post(`${url_base}/register`, {
        email: email,
        password: password
    })
    .then(response =&gt; {
        setAlert(true);
        window.setTimeout(()=&gt;{
            setAlert(false);
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function loginRequest(email, password){
    await axios.post(`${url_base}/login`, {
        email: email,
        password: password
    })
    .then(response =&gt; {
        localStorage.setItem(&#39;token&#39;, response.data.token);
        window.location.href = &#39;/&#39;;
    }).catch(error =&gt;{
        console.log(error);
    });
}

// esta función enviará un email a nuestra bandeja con una url de recuperación:
async function forgotRequest(email, alertState){
    await axios.post(`${url_base}/forgot`, {
        email: email
    })
    .then(response =&gt; {
        // cargar alert durante 3 segundos:
        alertState(true);
        window.setTimeout(()=&gt;{
            alertState(false);
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}


export{
    registerRequest,
    loginRequest,
    forgotRequest // exportar modulo
}
</pre></div>
</div>
<ul class="simple">
<li><p>Editar el componente <strong>ResetModalComponent</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">fragment</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">useState</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">servicio</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">forgotRequest</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;../../requests/userRequest&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">ResetModalComponent</span><span class="p">({</span><span class="n">setAlert</span><span class="p">}){</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">email</span><span class="p">,</span> <span class="n">setEmail</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

    <span class="n">const</span> <span class="n">handleEmail</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setEmail</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handleForm</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">e</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
        <span class="n">forgotRequest</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">setAlert</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;resetPassword&quot;</span> <span class="n">tabIndex</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">labelledby</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-dialog&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-content&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-header&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-title&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span><span class="o">&gt;</span><span class="n">Resetear</span> <span class="n">contraseña</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn-close&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-body&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">form</span> <span class="n">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="n">handleForm</span><span class="p">}</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;col text-center&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Email&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleEmail</span><span class="p">}</span> <span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-success form-control mt-3&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Enviar email&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="n">small</span><span class="o">&gt;</span><span class="n">Recibirás</span> <span class="n">un</span> <span class="n">email</span> <span class="n">que</span> <span class="n">te</span> <span class="n">llevará</span> <span class="n">donde</span> <span class="n">resetear</span> <span class="n">tu</span> <span class="n">contraseña</span><span class="o">&lt;/</span><span class="n">small</span><span class="o">&gt;</span>
                            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">ResetModalComponent</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-7-reestablecer-contrasena">
<h3><a class="toc-backref" href="#id28">Paso 7: Reestablecer contraseña</a><a class="headerlink" href="#paso-7-reestablecer-contrasena" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Editamos <strong>userRequest.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import axios from &#39;axios&#39;;

const url_base = &quot;http://localhost:5000/api&quot;

async function registerRequest(email, password, setAlert){
    await axios.post(`${url_base}/register`, {
        email: email,
        password: password
    })
    .then(response =&gt; {
        setAlert(true);
        window.setTimeout(()=&gt;{
            setAlert(false);
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function loginRequest(email, password){
    await axios.post(`${url_base}/login`, {
        email: email,
        password: password
    })
    .then(response =&gt; {
        localStorage.setItem(&#39;token&#39;, response.data.token);
        window.location.href = &#39;/&#39;;
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function forgotRequest(email, alertState){
    await axios.post(`${url_base}/forgot`, {
        email: email
    })
    .then(response =&gt; {
        alertState(true);
        window.setTimeout(()=&gt;{
            alertState(false);
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}
// crear función que resetea password:
async function resetRequest(newPassword, repiteNewPassword, id, token, alertState){
    // enviar por url el id y el token:
    await axios.put(`${url_base}/reset/${id}/${token}`, {
        newPassword: newPassword,
        repitePassword: repiteNewPassword
    })
    .then(response =&gt; {
        // cargar alert durante 3 segundos:
        alertState(true);
        window.setTimeout(()=&gt;{
            window.location.href = &quot;/login&quot;;
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}


export{
    registerRequest,
    loginRequest,
    forgotRequest,
    resetRequest // exportar modulo
}
</pre></div>
</div>
<ul class="simple">
<li><p>Ahora toca revisar <strong>ResetPasswordPage.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import {Fragment} from &#39;react&#39;;
import {useState} from &#39;react&#39;;
import &#39;./ResetPasswordPage.css&#39;;
// importar useParams de React Router:
import { useParams } from &#39;react-router-dom&#39;;
// importar servicio reset password:
import {resetRequest} from &#39;../../requests/userRequest&#39;;

function ResetPasswordPage(){
    // crear dos hooks para la contraseña:
    const [newPassword, setNewPassword] = useState(&quot;&quot;);
    const [repiteNewPassword, setRepiteNewPassword] = useState(&quot;&quot;);
    const [alert, setAlert] = useState(false);
    const [match, setMatch] = useState(true);

    // recuperar parametros de ruta:
    const {id, token} = useParams();

    // crear handles:
    const handleNewPassword = (e) =&gt; {
        setNewPassword(e.target.value);
    }

    const handleRepiteNewPassword = (e) =&gt; {
        setRepiteNewPassword(e.target.value);
    }

    const handleForm = (e) =&gt; {
        e.preventDefault();
        console.log(newPassword);
        console.log(repiteNewPassword);
        console.log(id);
        console.log(token);
        // comprobar que las contraseñas coinciden:
        if(newPassword !== repiteNewPassword){
            console.log(&quot;No coinciden las claves&quot;);
            setMatch(false);
        }else{
            setMatch(true);
            // enviar nueva contraseña:
            resetRequest(newPassword, repiteNewPassword, id, token, setAlert)

        }

    }

    return(
        &lt;Fragment&gt;
            {/* crear un alert con condición de ocultar en la clase: */}
            &lt;div className={alert === true ? &quot;alert alert-success&quot; : &quot;alert alert-success fade&quot;} role=&quot;alert&quot;&gt;
                Contraseña restablecida con éxito. Ya puedes iniciar sesión.
            &lt;/div&gt;
            &lt;div className=&quot;bodystyle text-center&quot; cz-shortcut-listen=&quot;true&quot;&gt;
                &lt;div className=&quot;form-signin text-center&quot;&gt;
                    &lt;form onSubmit={handleForm}&gt;
                        &lt;h1&gt;Restablecer contraseña&lt;/h1&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;password&quot; className=&quot;form-control&quot; placeholder=&quot;Password&quot; onChange={(handleNewPassword)} /&gt;
                            &lt;label htmlFor=&quot;floatingPassword&quot;&gt;Nueva contraseña&lt;/label&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;form-floating&quot;&gt;
                            &lt;input type=&quot;password&quot; className=&quot;form-control&quot; placeholder=&quot;Password&quot;  onChange={handleRepiteNewPassword}  /&gt;
                            &lt;label htmlFor=&quot;floatingPassword&quot;&gt;Repetir nueva contraseña&lt;/label&gt;
                            &lt;small className={match === false ? &quot;text-danger&quot; : &quot;text-danger invisible&quot;}&gt;Las contraseñas no coinciden&lt;/small&gt;
                        &lt;/div&gt;
                        &lt;button className=&quot;w-100 btn btn-lg btn-secondary&quot; type=&quot;submit&quot;&gt;Cambiar contraseña&lt;/button&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/Fragment&gt;
    )
}

export default ResetPasswordPage;
</pre></div>
</div>
</section>
<section id="paso-8-crear-tareas">
<h3><a class="toc-backref" href="#id29">Paso 8: Crear tareas</a><a class="headerlink" href="#paso-8-crear-tareas" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Creamos un nuevo servicio en la carpeta <strong>requests</strong> llamado <strong>taskRequest.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import axios from &#39;axios&#39;;

// preparar cabeceras:
const config = {
    headers: {
        Authorization: localStorage.getItem(&quot;token&quot;) // pasar el token guardado a la autorización
    }
}

const url_base = &quot;http://localhost:5000/api&quot;;

// crear tarea:
async function createTaskRequest(name, description, taskState){
    // enviar tarea por post:
    await axios.post(`${url_base}/tasks`, {
        name: name,
        description: description
    }, config) // pasar autorización al final
    .then(response =&gt;{
        // actualizar el listado de tareas en vivo:
        taskState(tasks =&gt; [...tasks, response.data.task]);
    }).catch(error =&gt;{
        console.log(error);
    });
}

export{
    createTaskRequest // exportar modulo
}
</pre></div>
</div>
<ul class="simple">
<li><p>Implementar en el formulario de <strong>TaskTableComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// importar hook usestate:
import {useState} from &#39;react&#39;;
import DeleteTaskModalComponent from &#39;./DeleteTaskModalComponent&#39;;
import FinishTaskModalComponent from &#39;./FinishTaskModalComponent&#39;;
// cargar servicio post:
import {createTaskRequest} from &#39;../../requests/taskRequest&#39;;

function TaskTableComponent(){
    const [dummyData, setDummyData] =  useState([
        {_id: 1, name: &quot;Cocinar&quot;, description: &quot;Cocinar galletas el sábado&quot;, date_created: &quot;08/08/2022&quot;, is_complete: true, date_finish: &quot;10/08/2022&quot;},
        {_id: 2, name: &quot;Preparar proyecto&quot;, description: &quot;Preparar proyecto para presentar en Septiembre&quot;, date_created: &quot;15/08/2022&quot;, is_complete: false},
        {_id: 3, name: &quot;Estudiar Java&quot;, description: &quot;Aprender Java para cubrir las especificaciones del proyecto&quot;, date_created: &quot;19/08/2022&quot;, is_complete: false}
    ])

    const [id, setId] = useState(null);
    const [name, setName] = useState(null);
    const [description, setDescription] = useState(null);

    const dataHandle = (id, name) =&gt; {
        return (e)=&gt;{
            setId(id);
            setName(name);
        }
    }

    const handleName = (e) =&gt; {
        setName(e.target.value);
    }

    const handleDescription = (e) =&gt; {
        setDescription(e.target.value);
    }

    const handleForm = (e) =&gt; {
        e.preventDefault();
        // añadimos el servicio y le pasamos provisionalmente la lista dummy:
        createTaskRequest(name, description, setDummyData);

    }

    return(
        &lt;div className=&quot;text-center container&quot;&gt;
            &lt;table className=&quot;table mt-4&quot;&gt;
                &lt;thead&gt;
                    &lt;tr&gt;
                        &lt;th scope=&quot;col&quot;&gt;Título&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Descripción&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Fecha creación&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Finalizada&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Fecha Finalización&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Operaciones&lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody className=&quot;text-start&quot;&gt;
                    {
                        dummyData.map(data =&gt; {
                            return(
                                &lt;tr key={data._id}&gt;
                                    &lt;td&gt;{data.name}&lt;/td&gt;
                                    &lt;td&gt;{data.description}&lt;/td&gt;
                                    &lt;td&gt;{data.date_created}&lt;/td&gt;
                                    &lt;td className=&quot;text-center&quot;&gt;{data.is_complete ? (&#39;Si&#39;) : (&#39;No&#39;)}&lt;/td&gt;
                                    &lt;td&gt;{data.date_finish ? (data.date_finish) : (&#39;&#39;)}&lt;/td&gt;
                                    &lt;td className=&quot;text-center&quot;&gt;
                                        &lt;button type=&quot;button&quot; onClick={dataHandle(data._id, data.name)} className=&quot;btn btn-sm btn-primary me-2 mb-1&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#finishModal&quot;&gt;Finalizar&lt;/button&gt;
                                        &lt;button type=&quot;button&quot; onClick={dataHandle(data._id, data.name)} className=&quot;btn btn-sm btn-danger me-2&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#deleteModal&quot;&gt;Eliminar&lt;/button&gt;
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                            )
                        })
                    }
                    {/* Crear un formulario para añadir nuevas tareas: */}
                    &lt;tr className=&quot;text-center&quot;&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td colSpan=&quot;3&quot; &gt;
                            &lt;form className=&quot;row input-group-sm&quot; onSubmit={handleForm}&gt;
                                &lt;input className=&quot;col me-2 form-control form-sm&quot; type=&quot;text&quot; placeholder=&quot;Título&quot; onChange={handleName} /&gt;
                                &lt;input className=&quot;col me-2 form-control&quot; type=&quot;text&quot; placeholder=&quot;Descripción&quot;  onChange={handleDescription} /&gt;
                                &lt;input className=&quot;col me-2 form-control btn btn-success&quot; type=&quot;submit&quot; value=&quot;Crear tarea&quot; /&gt;
                            &lt;/form&gt;
                        &lt;/td&gt;

                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
            {/* Añadimos el componente y le pasamos el hook id: */}
            &lt;FinishTaskModalComponent id={id} name={name} /&gt;
            &lt;DeleteTaskModalComponent id={id} name={name} /&gt;
        &lt;/div&gt;
    )
}

export default TaskTableComponent;
</pre></div>
</div>
</section>
<section id="paso-9-recuperar-tareas">
<h3><a class="toc-backref" href="#id30">Paso 9: Recuperar Tareas</a><a class="headerlink" href="#paso-9-recuperar-tareas" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear servicio para recuperar tareas en <strong>taskRequest.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import axios from &#39;axios&#39;;

const config = {
    headers: {
        Authorization: localStorage.getItem(&quot;token&quot;)
    }
}

const url_base = &quot;http://localhost:5000/api&quot;;

async function createTaskRequest(name, description, taskState){
    await axios.post(`${url_base}/tasks`, {
        name: name,
        description: description
    }, config)
    .then(response =&gt;{
        taskState(tasks =&gt; [...tasks, response.data.task]);
    }).catch(error =&gt;{
        console.log(error);
    });
}

// crear función para recuperar tareas:
async function ListTaskRequest(status){
    await axios.get(`${url_base}/tasks`, config)
    .then(response =&gt; {
        status(response.data);
        console.log(response.data);
    }).catch(error =&gt;{
        console.log(error);
    });
}

export{
    createTaskRequest,
    ListTaskRequest // exportar modulo
}
</pre></div>
</div>
<ul class="simple">
<li><p>Modificar tabla en <strong>TaskTableComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// importar hook useeffect para listar:
import {useState, useEffect} from &#39;react&#39;;
import DeleteTaskModalComponent from &#39;./DeleteTaskModalComponent&#39;;
import FinishTaskModalComponent from &#39;./FinishTaskModalComponent&#39;;
// cargar servicio get:
import {createTaskRequest, ListTaskRequest} from &#39;../../requests/taskRequest&#39;;

function TaskTableComponent(){
    // eliminar el hook DummyData y reemplazar por este:
    const [tasks, setTasks] = useState(null);

    const [id, setId] = useState(null);
    const [name, setName] = useState(null);
    const [description, setDescription] = useState(null);

    // cargar el useEffect y pedir el listado de tareas:
    useEffect(()=&gt;{
        ListTaskRequest(setTasks);
    },[]);

    const dataHandle = (id, name) =&gt; {
        return (e)=&gt;{
            setId(id);
            setName(name);
        }
    }

    const handleName = (e) =&gt; {
        setName(e.target.value);
    }

    const handleDescription = (e) =&gt; {
        setDescription(e.target.value);
    }

    const handleForm = (e) =&gt; {
        e.preventDefault();
        // Cambiamos el dummydata por el estado de tasks:
        createTaskRequest(name, description, setTasks);

    }

    return(
        &lt;div className=&quot;text-center container&quot;&gt;
            &lt;table className=&quot;table mt-4&quot;&gt;
                &lt;thead&gt;
                    &lt;tr&gt;
                        &lt;th scope=&quot;col&quot;&gt;Título&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Descripción&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Fecha creación&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Finalizada&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Fecha Finalización&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Operaciones&lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody className=&quot;text-start&quot;&gt;
                    {/* Ahora vamos a cambiar el dummydata por tasks y comprobamos que existen tareas: */}
                    { tasks ? (
                        tasks.map(data =&gt; {
                            return(
                                &lt;tr key={data._id}&gt;
                                    &lt;td&gt;{data.name}&lt;/td&gt;
                                    &lt;td&gt;{data.description}&lt;/td&gt;
                                    &lt;td&gt;{data.date_created}&lt;/td&gt;
                                    &lt;td className=&quot;text-center&quot;&gt;{data.is_complete ? (&#39;Si&#39;) : (&#39;No&#39;)}&lt;/td&gt;
                                    &lt;td&gt;{data.date_finish ? (data.date_finish) : (&#39;&#39;)}&lt;/td&gt;
                                    &lt;td className=&quot;text-center&quot;&gt;
                                        &lt;button type=&quot;button&quot; onClick={dataHandle(data._id, data.name)} className=&quot;btn btn-sm btn-primary me-2 mb-1&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#finishModal&quot;&gt;Finalizar&lt;/button&gt;
                                        &lt;button type=&quot;button&quot; onClick={dataHandle(data._id, data.name)} className=&quot;btn btn-sm btn-danger me-2&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#deleteModal&quot;&gt;Eliminar&lt;/button&gt;
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                            )
                        })) : (&lt;tr colSpan=&quot;6&quot;&gt;&lt;td&gt;No existen tareas&lt;/td&gt;&lt;/tr&gt;)
                    }
                    {/* Crear un formulario para añadir nuevas tareas: */}
                    &lt;tr className=&quot;text-center&quot;&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td colSpan=&quot;3&quot; &gt;
                            &lt;form className=&quot;row input-group-sm&quot; onSubmit={handleForm}&gt;
                                &lt;input className=&quot;col me-2 form-control form-sm&quot; type=&quot;text&quot; placeholder=&quot;Título&quot; onChange={handleName} /&gt;
                                &lt;input className=&quot;col me-2 form-control&quot; type=&quot;text&quot; placeholder=&quot;Descripción&quot;  onChange={handleDescription} /&gt;
                                &lt;input className=&quot;col me-2 form-control btn btn-success&quot; type=&quot;submit&quot; value=&quot;Crear tarea&quot; /&gt;
                            &lt;/form&gt;
                        &lt;/td&gt;

                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
            {/* Añadimos el componente y le pasamos el hook id: */}
            &lt;FinishTaskModalComponent id={id} name={name} /&gt;
            &lt;DeleteTaskModalComponent id={id} name={name} /&gt;
        &lt;/div&gt;
    )
}

export default TaskTableComponent;
</pre></div>
</div>
</section>
<section id="paso-10-finalizar-tarea">
<h3><a class="toc-backref" href="#id31">Paso 10: Finalizar tarea</a><a class="headerlink" href="#paso-10-finalizar-tarea" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear una nueva función en <strong>taskRequest.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import axios from &#39;axios&#39;;

const config = {
    headers: {
        Authorization: localStorage.getItem(&quot;token&quot;)
    }
}

const url_base = &quot;http://localhost:5000/api&quot;;

async function createTaskRequest(name, description, taskState){
    await axios.post(`${url_base}/tasks`, {
        name: name,
        description: description
    }, config)
    .then(response =&gt;{
        taskState(tasks =&gt; [...tasks, response.data.task]);
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function ListTaskRequest(status){
    await axios.get(`${url_base}/tasks`, config)
    .then(response =&gt; {
        status(response.data);
        console.log(response.data);
    }).catch(error =&gt;{
        console.log(error);
    });
}

// crear función para finalizar tareas:
async function setOK(tasks, setTasks, id){
    await axios.patch(`${url_base}/tasks/${id}`, {}, config)
    .then(response =&gt;{
        console.log(&#39;tareas:&#39;);
        console.log(tasks);
        // recorrer tareas para actualizar la tarea en el listado:
        tasks.map(task =&gt;{
            if(task._id === id){
                task.is_complete = true
            }
            return(null);
        });

        console.log(tasks);
        // reemplazar listado actual por el nuevo modificado arriba:
        setTasks(tasks =&gt; [...tasks]);
    }).catch(error =&gt;{
        console.log(error);
    })
}

export{
    createTaskRequest,
    ListTaskRequest,
    setOK // exportar modulo
}
</pre></div>
</div>
<ul class="simple">
<li><p>Editar ahora el componente <strong>FinishTaskComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">el</span> <span class="n">servicio</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">setOK</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;../../requests/taskRequest&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">recuperar</span> <span class="n">estado</span> <span class="n">y</span> <span class="n">listado</span> <span class="n">OJO</span> <span class="o">-</span> <span class="n">HAY</span> <span class="n">QUE</span> <span class="n">PASAR</span> <span class="n">TODOS</span> <span class="n">ESTOS</span> <span class="n">PARAMETROS</span> <span class="n">DESDE</span> <span class="n">LA</span> <span class="n">TABLA</span><span class="p">:</span>
<span class="n">function</span> <span class="n">FinishTaskModalComponent</span><span class="p">({</span><span class="nb">id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tasks</span><span class="p">,</span> <span class="n">setTasks</span><span class="p">}){</span>
    <span class="n">const</span> <span class="n">taskId</span> <span class="o">=</span> <span class="nb">id</span><span class="p">;</span>
    <span class="n">const</span> <span class="n">taskName</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>

    <span class="n">const</span> <span class="n">handleButton</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="n">setOK</span><span class="p">(</span><span class="n">tasks</span><span class="p">,</span> <span class="n">setTasks</span><span class="p">,</span> <span class="n">taskId</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">modal</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;finishModal&quot;</span> <span class="n">tabIndex</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">labelledby</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-dialog&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-content&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-header&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-title&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span><span class="o">&gt;</span><span class="n">Se</span> <span class="n">va</span> <span class="n">a</span> <span class="n">finalizar</span> <span class="n">la</span> <span class="n">siguiente</span> <span class="n">tarea</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn-close&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-body&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">{</span><span class="n">taskId</span><span class="p">}</span> <span class="o">-</span> <span class="p">{</span><span class="n">taskName</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-footer&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-secondary&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span><span class="o">&gt;</span><span class="n">Cancelar</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">/*</span> <span class="n">Pasarle</span> <span class="n">el</span> <span class="n">nuevo</span> <span class="n">handle</span> <span class="n">al</span> <span class="n">botón</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">onClick</span><span class="o">=</span><span class="p">{</span><span class="n">handleButton</span><span class="p">}</span><span class="o">&gt;</span><span class="n">Aceptar</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">FinishTaskModalComponent</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-11-eliminar-tareas">
<h3><a class="toc-backref" href="#id32">Paso 11: Eliminar Tareas</a><a class="headerlink" href="#paso-11-eliminar-tareas" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Ahora toca añadir la función para eliminar tareas en <strong>taskRequest.js</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import axios from &#39;axios&#39;;

const config = {
    headers: {
        Authorization: localStorage.getItem(&quot;token&quot;)
    }
}

const url_base = &quot;http://localhost:5000/api&quot;;

async function createTaskRequest(name, description, taskState){
    await axios.post(`${url_base}/tasks`, {
        name: name,
        description: description
    }, config)
    .then(response =&gt;{
        taskState(tasks =&gt; [...tasks, response.data.task]);
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function ListTaskRequest(status){
    await axios.get(`${url_base}/tasks`, config)
    .then(response =&gt; {
        status(response.data);
        console.log(response.data);
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function setOK(tasks, setTasks, id){
    await axios.patch(`${url_base}/tasks/${id}`, {}, config)
    .then(response =&gt;{
        console.log(&#39;tareas:&#39;);
        console.log(tasks);
        tasks.map(task =&gt;{
            if(task._id === id){
                task.is_complete = true
            }
            return(null);
        });

        console.log(tasks);
        setTasks(tasks =&gt; [...tasks]);
    }).catch(error =&gt;{
        console.log(error);
    })
}

// eliminar tarea:
async function deleteTask(tasks, setTasks, id){
    await axios.delete(`${url_base}/tasks/${id}`, config)
    .then(response =&gt; {
        // eliminar tarea de la colección:
        setTasks(tasks =&gt; [...tasks.filter(task =&gt; task._id !== id)]);
    }).catch(error =&gt;{
        console.log(error);
    })
}

export{
    createTaskRequest,
    ListTaskRequest,
    setOK,
    deleteTask // exportar modulo
}
</pre></div>
</div>
<p>Modificamos el componente <strong>DeleteTaskModal.js</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span><span class="n">Fragment</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">el</span> <span class="n">servicio</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">deleteTask</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;../../requests/taskRequest&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">recuperar</span> <span class="n">campo</span> <span class="nb">id</span> <span class="k">del</span> <span class="n">hook</span><span class="p">:</span>
<span class="n">function</span> <span class="n">DeleteTaskModalComponent</span><span class="p">({</span><span class="nb">id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tasks</span><span class="p">,</span> <span class="n">setTasks</span><span class="p">}){</span>
    <span class="n">const</span> <span class="n">taskId</span> <span class="o">=</span> <span class="nb">id</span><span class="p">;</span>
    <span class="n">const</span> <span class="n">taskName</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">un</span> <span class="n">handle</span> <span class="n">para</span> <span class="n">el</span> <span class="n">botón</span><span class="p">:</span>
    <span class="n">const</span> <span class="n">handleButton</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">=&gt;</span> <span class="p">{</span>
        <span class="n">deleteTask</span><span class="p">(</span><span class="n">tasks</span><span class="p">,</span> <span class="n">setTasks</span><span class="p">,</span> <span class="n">taskId</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Fragment</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;deleteModal&quot;</span> <span class="n">tabIndex</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">labelledby</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-dialog&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-content&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-header&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-title&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;exampleModalLabel&quot;</span><span class="o">&gt;</span><span class="n">Se</span> <span class="n">va</span> <span class="n">a</span> <span class="n">eliminar</span> <span class="n">la</span> <span class="n">siguiente</span> <span class="n">tarea</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn-close&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="o">&gt;&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-body&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">{</span><span class="n">taskName</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;modal-footer&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-secondary&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span><span class="o">&gt;</span><span class="n">Cancelar</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                        <span class="p">{</span><span class="o">/*</span> <span class="n">Cargar</span> <span class="n">el</span> <span class="n">handle</span> <span class="n">en</span> <span class="n">el</span> <span class="n">botón</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-danger&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">bs</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">onClick</span><span class="o">=</span><span class="p">{</span><span class="n">handleButton</span><span class="p">}</span><span class="o">&gt;</span><span class="n">Aceptar</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Fragment</span><span class="o">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">DeleteTaskModalComponent</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-12-cargar-datos-de-usuario">
<h3><a class="toc-backref" href="#id33">Paso 12: Cargar datos de usuario</a><a class="headerlink" href="#paso-12-cargar-datos-de-usuario" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear una nueva request en <strong>userRequest.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import axios from &#39;axios&#39;;

const url_base = &quot;http://localhost:5000/api&quot;

// cargamos el token:
const config = {
    headers: {
        Authorization: localStorage.getItem(&quot;token&quot;)
    }
}


async function registerRequest(email, password, setAlert){
    await axios.post(`${url_base}/register`, {
        email: email,
        password: password
    })
    .then(response =&gt; {
        setAlert(true);
        window.setTimeout(()=&gt;{
            setAlert(false);
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function loginRequest(email, password){
    await axios.post(`${url_base}/login`, {
        email: email,
        password: password
    })
    .then(response =&gt; {
        localStorage.setItem(&#39;token&#39;, response.data.token);
        window.location.href = &#39;/&#39;;
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function forgotRequest(email, alertState){
    await axios.post(`${url_base}/forgot`, {
        email: email
    })
    .then(response =&gt; {
        alertState(true);
        window.setTimeout(()=&gt;{
            alertState(false);
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}
async function resetRequest(newPassword, repiteNewPassword, id, token, alertState){
    await axios.put(`${url_base}/reset/${id}/${token}`, {
        newPassword: newPassword,
        repitePassword: repiteNewPassword
    })
    .then(response =&gt; {
        alertState(true);
        window.setTimeout(()=&gt;{
            window.location.href = &quot;/login&quot;;
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}

// crear función para recuperar datos de usuario:
async function getUser(setName, setLastname, setEmail){
    await axios.get(`${url_base}/users`, config)
    .then(response =&gt; {
        // setear los datos para los campos que contengan valores:
        setName(response.data.user.name ? response.data.user.name : &quot;&quot;);
        setLastname(response.data.user.lastname ? response.data.user.lastname : &quot;&quot;);
        setEmail(response.data.user.email ? response.data.user.email : &quot;&quot;);
        setId(response.data.user._id ? response.data.user._id : &quot;&quot;);
    }).catch(error =&gt;{
        console.log(error);
    })
}


export{
    registerRequest,
    loginRequest,
    forgotRequest,
    resetRequest,
    getUser // exportar modulo
}
</pre></div>
</div>
<ul class="simple">
<li><p>Editar el componente <strong>UserFormComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">importar</span> <span class="n">useEffect</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">useState</span><span class="p">,</span> <span class="n">useEffect</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="o">//</span> <span class="n">importar</span> <span class="n">el</span> <span class="n">servicio</span><span class="p">:</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">getUser</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;../../requests/userRequest&#39;</span><span class="p">;</span>

<span class="kn">import</span> <span class="s1">&#39;./UserFormComponent.css&#39;</span><span class="p">;</span>
<span class="n">const</span> <span class="n">avatar</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;../../assets/avatar.png&#39;</span><span class="p">);</span>

<span class="n">function</span> <span class="n">UserFormComponent</span><span class="p">(){</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">file</span><span class="p">,</span> <span class="n">setFile</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="n">setName</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">lastname</span><span class="p">,</span> <span class="n">setLastname</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">email</span><span class="p">,</span> <span class="n">setEmail</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="n">password</span><span class="p">,</span> <span class="n">setPassword</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="n">const</span> <span class="p">[</span><span class="nb">id</span><span class="p">,</span> <span class="n">setId</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

    <span class="n">useEffect</span><span class="p">(()</span><span class="o">=&gt;</span><span class="p">{</span>
        <span class="o">//</span> <span class="n">enviar</span> <span class="n">estados</span> <span class="n">para</span> <span class="n">actualizar</span> <span class="n">campos</span><span class="p">:</span>
        <span class="n">getUser</span><span class="p">(</span><span class="n">setName</span><span class="p">,</span> <span class="n">setLastname</span><span class="p">,</span> <span class="n">setEmail</span><span class="p">,</span> <span class="n">setId</span><span class="p">);</span>

    <span class="p">},[]);</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">handles</span> <span class="n">para</span> <span class="n">cambiar</span> <span class="n">estado</span> <span class="n">de</span> <span class="n">hooks</span><span class="p">:</span>
    <span class="n">const</span> <span class="n">handleFile</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setFile</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handleName</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setName</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handleLastname</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setLastname</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handleEmail</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setEmail</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">const</span> <span class="n">handlePassword</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">setPassword</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">crear</span> <span class="n">handle</span> <span class="n">para</span> <span class="n">formulario</span><span class="p">:</span>
    <span class="n">const</span> <span class="n">handleForm</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>
        <span class="n">e</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lastname</span><span class="p">);</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">password</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">cargar</span> <span class="n">formulario</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;container mt-4 text-center&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">form</span> <span class="n">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="n">handleForm</span><span class="p">}</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">h3</span><span class="o">&gt;</span><span class="n">Datos</span> <span class="n">de</span> <span class="n">usuario</span><span class="o">&lt;/</span><span class="n">h3</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">hr</span> <span class="o">/&gt;</span>
                        <span class="p">{</span><span class="o">/*</span> <span class="n">Cargar</span> <span class="n">values</span><span class="p">:</span> <span class="o">*/</span><span class="p">}</span>
                        <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="p">{</span><span class="n">avatar</span><span class="p">}</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;avatarEdit rounded img-thumbnail img-fluid&quot;</span>  <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;Avatar&quot;</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;file&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Subir avatar&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleFile</span><span class="p">}</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Nombre&quot;</span> <span class="n">value</span><span class="o">=</span><span class="p">{</span><span class="n">name</span><span class="p">}</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleName</span><span class="p">}</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Apellidos&quot;</span> <span class="n">value</span><span class="o">=</span><span class="p">{</span><span class="n">lastname</span><span class="p">}</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleLastname</span><span class="p">}</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Email&quot;</span> <span class="n">value</span><span class="o">=</span><span class="p">{</span><span class="n">email</span><span class="p">}</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handleEmail</span><span class="p">}</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;form-control mt-3&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Contraseña&quot;</span> <span class="n">onChange</span><span class="o">=</span><span class="p">{</span><span class="n">handlePassword</span><span class="p">}</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;btn btn-success form-control mt-3&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Actualizar datos&quot;</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">UserFormComponent</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="paso-13-editar-datos-de-usuario">
<h3><a class="toc-backref" href="#id34">Paso 13: Editar datos de usuario</a><a class="headerlink" href="#paso-13-editar-datos-de-usuario" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear el servicio para actualizar usuario en <strong>userRequest.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import axios from &#39;axios&#39;;

const url_base = &quot;http://localhost:5000/api&quot;

// cargamos el token:
const config = {
    headers: {
        Authorization: localStorage.getItem(&quot;token&quot;)
    }
}


async function registerRequest(email, password, setAlert){
    await axios.post(`${url_base}/register`, {
        email: email,
        password: password
    })
    .then(response =&gt; {
        setAlert(true);
        window.setTimeout(()=&gt;{
            setAlert(false);
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function loginRequest(email, password){
    await axios.post(`${url_base}/login`, {
        email: email,
        password: password
    })
    .then(response =&gt; {
        localStorage.setItem(&#39;token&#39;, response.data.token);
        window.location.href = &#39;/&#39;;
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function forgotRequest(email, alertState){
    await axios.post(`${url_base}/forgot`, {
        email: email
    })
    .then(response =&gt; {
        alertState(true);
        window.setTimeout(()=&gt;{
            alertState(false);
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}
async function resetRequest(newPassword, repiteNewPassword, id, token, alertState){
    await axios.put(`${url_base}/reset/${id}/${token}`, {
        newPassword: newPassword,
        repitePassword: repiteNewPassword
    })
    .then(response =&gt; {
        alertState(true);
        window.setTimeout(()=&gt;{
            window.location.href = &quot;/login&quot;;
        }, 3000);
    }).catch(error =&gt;{
        console.log(error);
    });
}

async function getUser(setName, setLastname, setEmail, setId, setFile){
    await axios.get(`${url_base}/users`, config)
    .then(response =&gt; {
        setName(response.data.user.name ? response.data.user.name : &quot;&quot;);
        setLastname(response.data.user.lastname ? response.data.user.lastname : &quot;&quot;);
        setEmail(response.data.user.email ? response.data.user.email : &quot;&quot;);
        setId(response.data.user._id ? response.data.user._id : &quot;&quot;);
        setFile(response.data.user.avatar ? response.data.user.avatar : null);
    }).catch(error =&gt;{
        console.log(error);
    })
}

// update user:
async function updateUser(id, name, lastname, email, password, file, setAvatar){
    // creamos un objeto tipo FormData para enviar archivos:
    const formData = new FormData();
    // cargamos los detalles del archivo con formdata ya que estamos usando formularios en lugar de json:
    formData.append(&quot;name&quot;, name);
    formData.append(&quot;lastname&quot;, lastname);
    if(email){
        formData.append(&quot;email&quot;, email);
    }
    if(password){
        formData.append(&quot;password&quot;, password);
    }
    try{
        // pasar la imagen con su nombre de campo y valores:
        formData.append(
            &quot;avatar&quot;,
            file,
            file.name
        )
    }catch(error){
        console.log(&quot;no se ha cargado archivo&quot;);
    }

    await axios.put(`${url_base}/users/${id}`, formData, config)
    .then(response =&gt; {
        console.log(&quot;Se han guardado los cambios&quot;);
        // actualizar hook del avatar que se muestra:
        setAvatar(response.data.user.avatar ? response.data.user.avatar : null);
    }).catch(error =&gt; {
        console.log(error);
    })
}


export{
    registerRequest,
    loginRequest,
    forgotRequest,
    resetRequest,
    getUser,
    updateUser // exportar modulo
}
</pre></div>
</div>
<ul class="simple">
<li><p>Ahora modificar el formulario <strong>UserFormComponent.js</strong>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// importar useEffect:
import {useState, useEffect} from &#39;react&#39;;
// importar el servicio:
import {getUser, updateUser} from &#39;../../requests/userRequest&#39;;

import &#39;./UserFormComponent.css&#39;;
// cargar avatar por defecto si no hemos subido uno:
const defaultAvatar = require(&#39;../../assets/avatar.png&#39;);

function UserFormComponent(){
    const [name, setName] = useState(&quot;&quot;);
    const [lastname, setLastname] = useState(&quot;&quot;);
    const [email, setEmail] = useState(&quot;&quot;);
    const [password, setPassword] = useState(&quot;&quot;);
    // este hook gestionará el input file del avatar:
    const [file, setFile] = useState(null);
    // este hook cargará la imagen que tengamos disponible, sino abajo validamos que muestre el avatar por defecto:
    const [avatar, setAvatar] = useState(null);
    const [id, setId] = useState(&quot;&quot;);

    useEffect(()=&gt;{
        // enviar estados para actualizar campos:
        getUser(setName, setLastname, setEmail, setId, setAvatar);
        // console.log(id);

    },[]);

    // crear handles para cambiar estado de hooks:
    const handleFile = (e) =&gt;{
        setFile(e.target.files[0]);
    }

    const handleName = (e) =&gt;{
        setName(e.target.value);
    }

    const handleLastname = (e) =&gt;{
        setLastname(e.target.value);
    }

    const handleEmail = (e) =&gt;{
        setEmail(e.target.value);
    }

    const handlePassword = (e) =&gt;{
        setPassword(e.target.value);
    }

    // crear handle para formulario:
    const handleForm = (e) =&gt;{
        e.preventDefault();
        updateUser(id, name, lastname, email, password, file, setAvatar);
    }

    // cargar formulario:
    return(
        &lt;div className=&quot;container mt-4 text-center&quot;&gt;
            &lt;form onSubmit={handleForm} encType=&quot;multipart/form-data&quot;&gt;
                &lt;div className=&quot;row&quot;&gt;
                    &lt;div className=&quot;col&quot;&gt;
                        &lt;h3&gt;Datos de usuario&lt;/h3&gt;
                        &lt;hr /&gt;
                        {/* Cargar values y filename en caso de input form (validar el avatar que se muestra si existe, sino mostrar uno por defecto): */}
                        &lt;img src={avatar ? `http://localhost:5000/api/users/avatar/${avatar}` : defaultAvatar} className=&quot;avatarEdit rounded img-thumbnail img-fluid&quot;  alt=&quot;Avatar&quot; /&gt;
                        &lt;input type=&quot;file&quot; className=&quot;form-control mt-3&quot; placeholder=&quot;Subir avatar&quot; filename={file} onChange={handleFile} /&gt;
                        &lt;input type=&quot;text&quot; className=&quot;form-control mt-3&quot; placeholder=&quot;Nombre&quot; value={name} onChange={handleName} /&gt;
                        &lt;input type=&quot;text&quot; className=&quot;form-control mt-3&quot; placeholder=&quot;Apellidos&quot; value={lastname} onChange={handleLastname} /&gt;
                        &lt;input type=&quot;email&quot; className=&quot;form-control mt-3&quot; placeholder=&quot;Email&quot; value={email} onChange={handleEmail} /&gt;
                        &lt;input type=&quot;password&quot; className=&quot;form-control mt-3&quot; placeholder=&quot;Contraseña&quot; onChange={handlePassword} /&gt;
                        &lt;input type=&quot;submit&quot; className=&quot;btn btn-success form-control mt-3&quot; value=&quot;Actualizar datos&quot; /&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    );
}

export default UserFormComponent;
</pre></div>
</div>
</section>
<section id="paso-14-subir-cambios-a-github">
<h3><a class="toc-backref" href="#id35">Paso 14: Subir cambios a GitHub</a><a class="headerlink" href="#paso-14-subir-cambios-a-github" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Parar depuración de Visual studio code.</p></li>
<li><p>Añadir cambios: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code></p></li>
<li><p>Realizar un commit: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-am</span> <span class="pre">&quot;Phase</span> <span class="pre">2</span> <span class="pre">complete&quot;</span></code></p></li>
<li><p>Subir cambios a Github con el nombre de la rama actual: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">feature/phase-2-connect-to-service</span></code></p></li>
<li><p>Desde gitHub presionar botón <strong>Compare &amp; pull request</strong>.</p></li>
<li><p>cambiar rama base <strong>master</strong> por <strong>developer</strong> y pulsar <strong>Create pull request</strong></p></li>
<li><p>Pulsar en <strong>Merge pull request</strong> y a continuación en <strong>Confirm merge</strong>.</p></li>
<li><p>Una vez terminado volvemos a local y cambiamos de rama a developer: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">developer</span></code></p></li>
<li><p>Actualizamos rama developer: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">origin</span> <span class="pre">developer</span></code></p></li>
</ul>
<p>Y con esto concluye la segunda fase del proyecto.</p>
<hr><br></section>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="../backend/api-node.html"
       title="capítulo anterior">← API Task Learn</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Derechos de autor Creado por Guillermo Granados Gomez bajo Licencia MIT.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>